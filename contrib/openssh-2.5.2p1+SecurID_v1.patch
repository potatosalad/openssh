diff -rNc openssh-2.5.2p1/Makefile.in openssh-2.5.2p1+SecurID/Makefile.in
*** openssh-2.5.2p1/Makefile.in	Tue Mar 13 19:39:24 2001
--- openssh-2.5.2p1+SecurID/Makefile.in	Mon Mar 19 23:10:15 2001
***************
*** 48,54 ****
  
  SSHOBJS= ssh.o sshconnect.o sshconnect1.o sshconnect2.o readconf.o clientloop.o
  
! SSHDOBJS= sshd.o auth.o auth1.o auth2.o auth-chall.o auth2-chall.o auth-rhosts.o auth-options.o auth-krb4.o auth-pam.o auth2-pam.o auth-passwd.o auth-rsa.o auth-rh-rsa.o auth-sia.o dh.o sshpty.o sshlogin.o loginrec.o servconf.o serverloop.o md5crypt.o session.o groupaccess.o
  
  TROFFMAN	= scp.1 ssh-add.1 ssh-agent.1 ssh-keygen.1 ssh-keyscan.1 ssh.1 sshd.8 sftp-server.8 sftp.1
  CATMAN		= scp.0 ssh-add.0 ssh-agent.0 ssh-keygen.0 ssh-keyscan.0 ssh.0 sshd.0 sftp-server.0 sftp.0
--- 48,54 ----
  
  SSHOBJS= ssh.o sshconnect.o sshconnect1.o sshconnect2.o readconf.o clientloop.o
  
! SSHDOBJS= sshd.o auth.o auth1.o auth2.o auth-chall.o auth2-chall.o auth-rhosts.o auth-options.o auth-krb4.o auth-pam.o auth2-pam.o auth-passwd.o auth-rsa.o auth-rh-rsa.o auth-sia.o auth-securid.o dh.o sshpty.o sshlogin.o loginrec.o servconf.o serverloop.o md5crypt.o session.o groupaccess.o
  
  TROFFMAN	= scp.1 ssh-add.1 ssh-agent.1 ssh-keygen.1 ssh-keyscan.1 ssh.1 sshd.8 sftp-server.8 sftp.1
  CATMAN		= scp.0 ssh-add.0 ssh-agent.0 ssh-keygen.0 ssh-keyscan.0 ssh.0 sshd.0 sftp-server.0 sftp.0
diff -rNc openssh-2.5.2p1/README.SecurID openssh-2.5.2p1+SecurID/README.SecurID
*** openssh-2.5.2p1/README.SecurID	Wed Dec 31 19:00:00 1969
--- openssh-2.5.2p1+SecurID/README.SecurID	Tue Mar 20 00:52:41 2001
***************
*** 0 ****
--- 1,82 ----
+ /*
+  * Author: Theo Schlossnagle <jesus@omniti.com>
+  * Copyright (c) 2000,2001 Theo Schlossnagle <jesus@omniti.com>
+  *                    All rights reserved
+  * Created: September 21, 2000
+  * License: OpenSSH License.  See the license for OpenSSH for more details.
+  *
+  * March 19, 2001:
+  * Updated to 2.5.2p1 -- jesus@omniti.com
+  *
+  * December 20, 2000:
+  * Updated to 2.3.0p1 -- jesus@omniti.com
+  *
+  * Jan 9th, 2001:
+  * Added SecurIDUsersFile, SecurIDIgnoreShell, AllowNonSecurID directives
+  * to the sshd_config file.  These parameters are documented in the man page.
+  * This provides a more logical seperationg between fail-through due to system
+  * failure and fall-through by configuration. (fall-through vs. fail-through)
+  *   -- jesus@omniti.com
+  */
+ 
+ Seems like a few people are interested.  So here is the patch.
+ 
+ This has only been tested on UNICIES that support PAM.  There is untested
+ (only 5 lines) code in auth-passwd.c that should provide the same
+ functionality for normal (non-PAM) password verifications.
+ 
+ The patch is logical quite small, the physical patch bulky because it contains
+ all the line number changes in "configure" after running autoconf on the
+ modified configure.in file (in which I changed maybe 10 lines -- Yuk.)
+ 
+ The sshd man page has been patched too :-)  Read it for the two new options
+ relating to SecurID.
+ 
+ How it works:
+ 
+ 0) apply patch ;-)
+ 1) copy sdi headers (in SecurID example directory) into either a standard
+ include place (like /usr/local/include) or into the openssh source tree
+ or add the --with-cflags=-I/path/to/ace/examples (where the include files are)
+ 2) copy the sdiclient.a file (same dir) into the openssh source tree.
+ 
+ Make sure that /var/ace contains your sdconf.rec, etc.  If you installed
+ SecurID client or server on a machine it should be this way already.  If you
+ used a non-standard install location do a "ln -s /path/to/ace/data /var/ace"
+ 
+ 3) add --with-securid --with-pam to the configure flags.  This module rides on
+ the PAM authentication mechanism.
+ 
+ It will trigger if a user has a shell in /etc/passwd that ends with "sdshell"
+ and it snags your shell the same way sdshell does.  Users with other shells
+ will log in as if SecurID didn't exist.
+ 
+ Done:
+   o Normal passcode verification
+   o Enter next token for verification
+     (use ssh -v to see the *useful* debgging messages)
+ 
+ ssh -v will let you know if:
+  o your code was accepted.
+  o your code was rejected.
+  o you are required to wait for the next token and enter that.
+ 
+ TODO:
+   o Handle PIN creation and changing (as their are by default three log in
+ attempts, it should be straight forward to integrate in these additions --
+ both of these operations require exactly three user inputs.)
+   o Add sshd_config parameter to specify the VAR_ACE location (forced to
+ /var/ace OR VAR_ACE environment variable now.)
+   o Make autoconf find the headers in logical places and add a long-option to
+ give it a hint.  I am an "autoconf idiot"... The small changes I made were
+ challenging enough :) 
+ 
+ 
+ DISCLAIMER:
+   I works for me (yes, in production).  If you get locked out of a production
+ system becuase you replaced your sshd with this one, feeling really dumb is
+ YOUR responsibility NOT mine.  It is not my fault :-D
+ 
+ Hope this is useful! scp (and all other tools that can use ssh like rsync and
+ cvs) will work now!!!! Hooray!
+ 
diff -rNc openssh-2.5.2p1/acconfig.h openssh-2.5.2p1+SecurID/acconfig.h
*** openssh-2.5.2p1/acconfig.h	Fri Mar 16 20:15:16 2001
--- openssh-2.5.2p1+SecurID/acconfig.h	Mon Mar 19 23:08:34 2001
***************
*** 187,192 ****
--- 187,195 ----
  /* Define if you want S/Key support */
  #undef SKEY
  
+ /* Define if you want SecurID support */
+ #undef SECURID
+ 
  /* Define if you want TCP Wrappers support */
  #undef LIBWRAP
  
diff -rNc openssh-2.5.2p1/auth-pam.c openssh-2.5.2p1+SecurID/auth-pam.c
*** openssh-2.5.2p1/auth-pam.c	Wed Feb 28 17:18:36 2001
--- openssh-2.5.2p1+SecurID/auth-pam.c	Tue Mar 20 00:04:36 2001
***************
*** 168,174 ****
  
  	return PAM_SUCCESS;
  }
- 
  /* Called at exit to cleanly shutdown PAM */
  void do_pam_cleanup_proc(void *context)
  {
--- 168,173 ----
***************
*** 211,217 ****
  		return 0;
  	if (*password == '\0' && options.permit_empty_passwd == 0)
  		return 0;
! 
  	__pampasswd = password;
  
  	pamstate = INITIAL_LOGIN;
--- 210,228 ----
  		return 0;
  	if (*password == '\0' && options.permit_empty_passwd == 0)
  		return 0;
! #ifdef SECURID
! 	if (options.securid_authentication == 1) {
! 		int ret;
! 		debug("Attempting SecurID authentication user \"%.100s\"", pw->pw_name);
! 		ret = auth_securid_password(pw, password);
! 		if (ret >= 0)
! 			return ret;
! 		/* Only returns < 0 if the account is not a SecurID account */
! 		/* Fall back to ordinary passwd authentication. */
! 	} else {
! 		debug("SecurID disabled in server config.  Using PAM.");
! 	}
! #endif
  	__pampasswd = password;
  
  	pamstate = INITIAL_LOGIN;
diff -rNc openssh-2.5.2p1/auth-passwd.c openssh-2.5.2p1+SecurID/auth-passwd.c
*** openssh-2.5.2p1/auth-passwd.c	Sun Feb 18 01:00:38 2001
--- openssh-2.5.2p1+SecurID/auth-passwd.c	Mon Mar 19 23:08:34 2001
***************
*** 144,149 ****
--- 144,158 ----
  	}
  #endif
  
+ #ifdef SECURID
+ 	if (options.securid_authentication == 1) {
+ 		int ret = auth_securid_password(pw, password);
+ 		if (ret >= 0)
+ 			return ret;
+ 		/* Only returns < 0 if the account is not a SecurID account */
+ 		/* Fall back to ordinary passwd authentication. */
+ 	}
+ #endif
  #ifdef WITH_AIXAUTHENTICATE
  	return (authenticate(pw->pw_name,password,&reenter,&authmsg) == 0);
  #endif
diff -rNc openssh-2.5.2p1/auth-securid.c openssh-2.5.2p1+SecurID/auth-securid.c
*** openssh-2.5.2p1/auth-securid.c	Wed Dec 31 19:00:00 1969
--- openssh-2.5.2p1+SecurID/auth-securid.c	Tue Mar 20 01:08:35 2001
***************
*** 0 ****
--- 1,181 ----
+ /*
+  * Author: Theo Schlossnagle <jesus@omniti.com>
+  * Copyright (c) 2000 Theo Schlossnagle <jesus@omniti.com>
+  *                    All rights reserved
+  * Created: September 21, 2000
+  * This file contains the code to process a SecurID authentication
+  * including the "next token" request.
+  */
+ 
+ #include "includes.h"
+ 
+ RCSID("$OpenBSD: auth-securid.c,v 1.0 2000/09/21 01:39:38 jesus Exp $");
+ 
+ #include "packet.h"
+ #include "ssh.h"
+ #include "log.h"
+ #include "servconf.h"
+ #include "xmalloc.h"
+ 
+ #ifdef WITH_AIXAUTHENTICATE
+ # include <login.h>
+ #endif
+ #ifdef HAVE_HPUX_TRUSTED_SYSTEM_PW
+ # include <hpsecurity.h>
+ # include <prot.h>
+ #endif
+ #ifdef HAVE_SHADOW_H
+ # include <shadow.h>
+ #endif
+ #ifdef HAVE_GETPWANAM
+ # include <sys/label.h>
+ # include <sys/audit.h>
+ # include <pwdadj.h>
+ #endif
+ #if defined(HAVE_MD5_PASSWORDS) && !defined(HAVE_MD5_CRYPT)
+ # include "md5crypt.h"
+ #endif /* defined(HAVE_MD5_PASSWORDS) && !defined(HAVE_MD5_CRYPT) */
+ 
+ #ifdef SECURID
+ #include "sdi_athd.h"
+ #include "sdconf.h"
+ #include "sdacmvls.h"
+ 
+ union config_record configure;
+ #endif
+ 
+ /*
+  * Tries to authenticate the user using password.  Returns true if
+  * authentication succeeds.
+  */
+ #define INBUFFLEN 256
+ 
+ int
+ securid_usersfile_find(const char *pw_name)
+ {
+ 	extern ServerOptions options;
+ 	FILE *inf;
+ 	char inbuff[INBUFFLEN];
+ 	struct stat fileinfo;
+ 	int retval = 0;
+ 
+ 	if(!options.securid_usersfile) {
+ 		error("In securid_usersfile_find() with NULL filename!");
+ 		return -1;
+ 	}
+ 	if(lstat(options.securid_usersfile, &fileinfo)) {
+ 		error("Cannot open %s: %s",
+ 		      options.securid_usersfile, strerror(errno));
+ 		return -1;
+ 	}
+ 	if(fileinfo.st_mode & (S_IWOTH|S_IWGRP)) {
+ 		error("SecurIDUsersFile is writeable by group and other");
+ 		return -1;
+ 	}
+ 	if(!(inf = fopen(options.securid_usersfile, "r"))) {
+ 		error("Cannot open %s: %s",
+ 		      options.securid_usersfile, strerror(errno));
+ 		return -1;
+ 	}
+ 	while(fgets(inbuff,INBUFFLEN-1,inf) != NULL) {
+ 		if(inbuff[strlen(inbuff) - 1] == '\n')
+ 			inbuff[strlen(inbuff) - 1] = '\0';
+ 		retval = !strcmp(inbuff,pw_name);
+ 		if(retval) break;
+         }
+ 	fclose(inf);
+ 	if(retval) return 1;
+ 	debug2("Failed to find %s in %s",
+ 		pw_name, options.securid_usersfile);
+ 	return 0;
+ }
+ int
+ auth_securid_password(struct passwd * pw, const char *password)
+ {
+ 	static int state = 0;	/* This tells us where we expect a
+ 					0 "PIN"
+ 					1 "Next Token"
+ 				*/
+ 	int doauth;
+ 	char *ecp;
+ 	extern ServerOptions options;
+ #ifndef SECURID
+ 	return -1;
+ #else
+ 	struct SD_CLIENT sd_dat, *sd;
+ 
+ 	/* Check for users with no sdshell and pass them by. */
+ 	if(options.securid_usersfile) {
+ 		doauth = securid_usersfile_find(pw->pw_name);
+ 		if(doauth == 0) {	/* file is there, user is not */
+ 			if(options.allow_nonsecurid) return -1;
+ 			return 0;
+ 		} else if(doauth < 0) { /* File not there or bad perms! */
+ 			error("Failing SecurID login attempt");
+ 			return 0;	/* Fail */
+ 		}
+ 	} else {
+ 		/* No users securid_usersfile
+ 		   so use shells that end in sdshell */
+ 		if (!((ecp = strstr(pw->pw_shell, "sdshell")) &&
+ 				(*(ecp+8)=='\0')))
+ 			if(options.allow_nonsecurid) return -1;
+ 		else
+ 			return 0;
+ 	}
+ 
+ 	memset(&sd_dat, 0, sizeof(sd_dat));   /* clear struct */
+ 	sd = &sd_dat;
+ 
+ 	if(creadcfg()) {
+ 		/* Can't read sdconf.rec!  Gotta bail */
+ 		packet_send_debug("Couldn't read sdconf.rec.");
+ 		if(options.securid_fallback) return -1;
+ 		return 0;
+ 	}
+ 	if(sd_init(sd)) {
+ 		/* Can't establish client/server comms!  Gotta bail */
+ 		packet_send_debug("Couldn't establish client/server communications.");
+ 		if(options.securid_fallback) return -1;
+ 		return 0;
+ 	}
+ 	if(state == 0) {
+ 		int ret;
+ 		/* Auth PIN... */
+ 		ret = sd_check(password, pw->pw_name, sd);
+ 		if(ret == ACM_OK) {
+ 			goto success;
+ 		}
+ 		if(ret == ACM_ACCESS_DENIED) {
+ 			packet_send_debug("SecurID passcode rejected.");
+ 			return 0; /* Failed! */
+ 		}
+ 		if(ret == ACM_NEXT_CODE_REQUIRED) {
+ 			packet_send_debug("SecurID needs next token.");
+ 			state = 1; /* Process next try as sd_next */
+ 			return 0;  /* Fail, so ssh will prmpt again */
+ 		}
+ 	} else {
+ 		/* Auth next token... */
+ 		int ret;
+ 		state = 0;  /* Set back to PIN mode */
+ 		ret = sd_next(password, sd);
+ 		if(ret == ACM_OK) {
+ 			goto success;
+ 		}
+ 		packet_send_debug("SecurID passcode rejected.");
+ 		return 0; /* Failed */
+ 	}
+ 	packet_send_debug("Unhandled sdcheck() return code.");
+ 	return 0; /* Failed! */
+ 
+ success:
+ 	/* We don't free pw->pw_shell here, becuase we don't know how it was
+ 	   allocated... Besides it is a very small, one-time leak if we did
+ 	   need to free it. */
+ 	if(!options.securid_ignore_shell)
+ 		pw->pw_shell = strdup(sd->shell);
+ 	packet_send_debug("SecurID passcode accepted.");
+ 	return 1; /* Success */
+ #endif
+ }
diff -rNc openssh-2.5.2p1/config.h.in openssh-2.5.2p1+SecurID/config.h.in
*** openssh-2.5.2p1/config.h.in	Mon Mar 19 17:33:03 2001
--- openssh-2.5.2p1+SecurID/config.h.in	Mon Mar 19 23:08:34 2001
***************
*** 193,198 ****
--- 193,201 ----
  /* Define if you want S/Key support */
  #undef SKEY
  
+ /* Define if you want SecurID support */
+ #undef SECURID
+ 
  /* Define if you want TCP Wrappers support */
  #undef LIBWRAP
  
***************
*** 259,270 ****
  
  /* Define if you have a regcomp() function */
  #undef HAVE_REGCOMP
- 
- /* Define if you have /dev/ptmx */
- #undef HAVE_DEV_PTMX
- 
- /* Define if you have /dev/ptc */
- #undef HAVE_DEV_PTS_AND_PTC
  
  /* Define if you need to use IP address instead of hostname in $DISPLAY */
  #undef IPADDR_IN_DISPLAY
--- 262,267 ----
diff -rNc openssh-2.5.2p1/configure openssh-2.5.2p1+SecurID/configure
*** openssh-2.5.2p1/configure	Mon Mar 19 17:33:04 2001
--- openssh-2.5.2p1+SecurID/configure	Mon Mar 19 23:10:42 2001
***************
*** 28,33 ****
--- 28,35 ----
  ac_help="$ac_help
    --with-skey=PATH         Enable S/Key support"
  ac_help="$ac_help
+   --with-securid          Enable SecurID support"
+ ac_help="$ac_help
    --with-tcp-wrappers     Enable tcpwrappers support"
  ac_help="$ac_help
    --with-pam              Enable PAM support "
***************
*** 599,605 ****
  # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:603: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 601,607 ----
  # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:605: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 629,635 ****
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:633: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 631,637 ----
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:635: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 680,686 ****
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:684: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 682,688 ----
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:686: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 712,718 ****
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:716: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
--- 714,720 ----
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:718: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
***************
*** 723,734 ****
  
  cat > conftest.$ac_ext << EOF
  
! #line 727 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:732: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
--- 725,736 ----
  
  cat > conftest.$ac_ext << EOF
  
! #line 729 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:734: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
***************
*** 754,765 ****
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:758: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:763: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 756,767 ----
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:760: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:765: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 768,774 ****
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:772: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
--- 770,776 ----
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:774: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
***************
*** 787,793 ****
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:791: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 789,795 ----
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:793: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 844,850 ****
  fi
  
  echo $ac_n "checking host system type""... $ac_c" 1>&6
! echo "configure:848: checking host system type" >&5
  
  host_alias=$host
  case "$host_alias" in
--- 846,852 ----
  fi
  
  echo $ac_n "checking host system type""... $ac_c" 1>&6
! echo "configure:850: checking host system type" >&5
  
  host_alias=$host
  case "$host_alias" in
***************
*** 865,878 ****
  echo "$ac_t""$host" 1>&6
  
  echo $ac_n "checking whether byte ordering is bigendian""... $ac_c" 1>&6
! echo "configure:869: checking whether byte ordering is bigendian" >&5
  if eval "test \"`echo '$''{'ac_cv_c_bigendian'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_bigendian=unknown
  # See if sys/param.h defines the BYTE_ORDER macro.
  cat > conftest.$ac_ext <<EOF
! #line 876 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
--- 867,880 ----
  echo "$ac_t""$host" 1>&6
  
  echo $ac_n "checking whether byte ordering is bigendian""... $ac_c" 1>&6
! echo "configure:871: checking whether byte ordering is bigendian" >&5
  if eval "test \"`echo '$''{'ac_cv_c_bigendian'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_bigendian=unknown
  # See if sys/param.h defines the BYTE_ORDER macro.
  cat > conftest.$ac_ext <<EOF
! #line 878 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
***************
*** 883,893 ****
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:887: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    # It does; now see whether it defined to BIG_ENDIAN or not.
  cat > conftest.$ac_ext <<EOF
! #line 891 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
--- 885,895 ----
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:889: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    # It does; now see whether it defined to BIG_ENDIAN or not.
  cat > conftest.$ac_ext <<EOF
! #line 893 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/param.h>
***************
*** 898,904 ****
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:902: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_bigendian=yes
  else
--- 900,906 ----
  #endif
  ; return 0; }
  EOF
! if { (eval echo configure:904: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_bigendian=yes
  else
***************
*** 918,924 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 922 "configure"
  #include "confdefs.h"
  main () {
    /* Are we little or big endian?  From Harbison&Steele.  */
--- 920,926 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 924 "configure"
  #include "confdefs.h"
  main () {
    /* Are we little or big endian?  From Harbison&Steele.  */
***************
*** 931,937 ****
    exit (u.c[sizeof (long) - 1] == 1);
  }
  EOF
! if { (eval echo configure:935: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_c_bigendian=no
  else
--- 933,939 ----
    exit (u.c[sizeof (long) - 1] == 1);
  }
  EOF
! if { (eval echo configure:937: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_c_bigendian=no
  else
***************
*** 957,963 ****
  
  # Checks for programs.
  echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
! echo "configure:961: checking how to run the C preprocessor" >&5
  # On Suns, sometimes $CPP names a directory.
  if test -n "$CPP" && test -d "$CPP"; then
    CPP=
--- 959,965 ----
  
  # Checks for programs.
  echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
! echo "configure:963: checking how to run the C preprocessor" >&5
  # On Suns, sometimes $CPP names a directory.
  if test -n "$CPP" && test -d "$CPP"; then
    CPP=
***************
*** 972,984 ****
    # On the NeXT, cc -E runs the code through the compiler's parser,
    # not just through cpp.
    cat > conftest.$ac_ext <<EOF
! #line 976 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:982: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
--- 974,986 ----
    # On the NeXT, cc -E runs the code through the compiler's parser,
    # not just through cpp.
    cat > conftest.$ac_ext <<EOF
! #line 978 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:984: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
***************
*** 989,1001 ****
    rm -rf conftest*
    CPP="${CC-cc} -E -traditional-cpp"
    cat > conftest.$ac_ext <<EOF
! #line 993 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:999: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
--- 991,1003 ----
    rm -rf conftest*
    CPP="${CC-cc} -E -traditional-cpp"
    cat > conftest.$ac_ext <<EOF
! #line 995 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1001: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
***************
*** 1006,1018 ****
    rm -rf conftest*
    CPP="${CC-cc} -nologo -E"
    cat > conftest.$ac_ext <<EOF
! #line 1010 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1016: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
--- 1008,1020 ----
    rm -rf conftest*
    CPP="${CC-cc} -nologo -E"
    cat > conftest.$ac_ext <<EOF
! #line 1012 "configure"
  #include "confdefs.h"
  #include <assert.h>
  Syntax Error
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:1018: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    :
***************
*** 1039,1045 ****
  # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1043: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1041,1047 ----
  # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1045: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1078,1084 ****
  # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
  # ./install, which can be erroneously created by make from ./install.sh.
  echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
! echo "configure:1082: checking for a BSD compatible install" >&5
  if test -z "$INSTALL"; then
  if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 1080,1086 ----
  # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
  # ./install, which can be erroneously created by make from ./install.sh.
  echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
! echo "configure:1084: checking for a BSD compatible install" >&5
  if test -z "$INSTALL"; then
  if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 1133,1139 ****
  # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1137: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1135,1141 ----
  # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1139: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1168,1174 ****
  # Extract the first word of "perl", so it can be a program name with args.
  set dummy perl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1172: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PERL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1170,1176 ----
  # Extract the first word of "perl", so it can be a program name with args.
  set dummy perl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1174: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PERL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1204,1210 ****
  # Extract the first word of "ent", so it can be a program name with args.
  set dummy ent; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1208: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_ENT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1206,1212 ----
  # Extract the first word of "ent", so it can be a program name with args.
  set dummy ent; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1210: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_ENT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1242,1248 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1246: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_FILEPRIV'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1244,1250 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1248: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_FILEPRIV'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1281,1287 ****
  # Extract the first word of "bash", so it can be a program name with args.
  set dummy bash; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1285: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1283,1289 ----
  # Extract the first word of "bash", so it can be a program name with args.
  set dummy bash; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1287: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1316,1322 ****
  # Extract the first word of "ksh", so it can be a program name with args.
  set dummy ksh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1320: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1318,1324 ----
  # Extract the first word of "ksh", so it can be a program name with args.
  set dummy ksh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1322: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1351,1357 ****
  # Extract the first word of "sh", so it can be a program name with args.
  set dummy sh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1355: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1353,1359 ----
  # Extract the first word of "sh", so it can be a program name with args.
  set dummy sh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1357: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_TEST_MINUS_S_SH'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1399,1405 ****
  	# Extract the first word of "login", so it can be a program name with args.
  set dummy login; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1403: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_LOGIN_PROGRAM_FALLBACK'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1401,1407 ----
  	# Extract the first word of "login", so it can be a program name with args.
  set dummy login; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1405: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_LOGIN_PROGRAM_FALLBACK'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1446,1466 ****
  	
  # C Compiler features
  echo $ac_n "checking for inline""... $ac_c" 1>&6
! echo "configure:1450: checking for inline" >&5
  if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_inline=no
  for ac_kw in inline __inline__ __inline; do
    cat > conftest.$ac_ext <<EOF
! #line 1457 "configure"
  #include "confdefs.h"
  
  int main() {
  } $ac_kw foo() {
  ; return 0; }
  EOF
! if { (eval echo configure:1464: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_inline=$ac_kw; break
  else
--- 1448,1468 ----
  	
  # C Compiler features
  echo $ac_n "checking for inline""... $ac_c" 1>&6
! echo "configure:1452: checking for inline" >&5
  if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    ac_cv_c_inline=no
  for ac_kw in inline __inline__ __inline; do
    cat > conftest.$ac_ext <<EOF
! #line 1459 "configure"
  #include "confdefs.h"
  
  int main() {
  } $ac_kw foo() {
  ; return 0; }
  EOF
! if { (eval echo configure:1466: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_inline=$ac_kw; break
  else
***************
*** 1499,1510 ****
  		blibpath="/usr/lib:/lib:/usr/local/lib"
  	fi
  	echo $ac_n "checking for authenticate""... $ac_c" 1>&6
! echo "configure:1503: checking for authenticate" >&5
  if eval "test \"`echo '$''{'ac_cv_func_authenticate'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1508 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char authenticate(); below.  */
--- 1501,1512 ----
  		blibpath="/usr/lib:/lib:/usr/local/lib"
  	fi
  	echo $ac_n "checking for authenticate""... $ac_c" 1>&6
! echo "configure:1505: checking for authenticate" >&5
  if eval "test \"`echo '$''{'ac_cv_func_authenticate'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1510 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char authenticate(); below.  */
***************
*** 1527,1533 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:1531: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_authenticate=yes"
  else
--- 1529,1535 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:1533: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_authenticate=yes"
  else
***************
*** 1680,1691 ****
  EOF
  
  	echo $ac_n "checking for jlimit_startjob""... $ac_c" 1>&6
! echo "configure:1684: checking for jlimit_startjob" >&5
  if eval "test \"`echo '$''{'ac_cv_func_jlimit_startjob'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1689 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char jlimit_startjob(); below.  */
--- 1682,1693 ----
  EOF
  
  	echo $ac_n "checking for jlimit_startjob""... $ac_c" 1>&6
! echo "configure:1686: checking for jlimit_startjob" >&5
  if eval "test \"`echo '$''{'ac_cv_func_jlimit_startjob'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1691 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char jlimit_startjob(); below.  */
***************
*** 1708,1714 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:1712: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_jlimit_startjob=yes"
  else
--- 1710,1716 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:1714: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_jlimit_startjob=yes"
  else
***************
*** 1758,1764 ****
  
  	SONY=1
  	echo $ac_n "checking for xatexit in -liberty""... $ac_c" 1>&6
! echo "configure:1762: checking for xatexit in -liberty" >&5
  ac_lib_var=`echo iberty'_'xatexit | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 1760,1766 ----
  
  	SONY=1
  	echo $ac_n "checking for xatexit in -liberty""... $ac_c" 1>&6
! echo "configure:1764: checking for xatexit in -liberty" >&5
  ac_lib_var=`echo iberty'_'xatexit | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 1766,1772 ****
    ac_save_LIBS="$LIBS"
  LIBS="-liberty  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 1770 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 1768,1774 ----
    ac_save_LIBS="$LIBS"
  LIBS="-liberty  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 1772 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 1777,1783 ****
  xatexit()
  ; return 0; }
  EOF
! if { (eval echo configure:1781: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 1779,1785 ----
  xatexit()
  ; return 0; }
  EOF
! if { (eval echo configure:1783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 1844,1850 ****
  	# hardwire lastlog location (can't detect it on some versions)
  	conf_lastlog_location="/var/adm/lastlog"
  	echo $ac_n "checking for obsolete utmp and wtmp in solaris2.x""... $ac_c" 1>&6
! echo "configure:1848: checking for obsolete utmp and wtmp in solaris2.x" >&5
  	sol2ver=`echo "$host"| sed -e 's/.*[0-9]\.//'`
  	if test "$sol2ver" -ge 8; then
  		echo "$ac_t""yes" 1>&6
--- 1846,1852 ----
  	# hardwire lastlog location (can't detect it on some versions)
  	conf_lastlog_location="/var/adm/lastlog"
  	echo $ac_n "checking for obsolete utmp and wtmp in solaris2.x""... $ac_c" 1>&6
! echo "configure:1850: checking for obsolete utmp and wtmp in solaris2.x" >&5
  	sol2ver=`echo "$host"| sed -e 's/.*[0-9]\.//'`
  	if test "$sol2ver" -ge 8; then
  		echo "$ac_t""yes" 1>&6
***************
*** 1865,1876 ****
  	for ac_func in getpwanam
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:1869: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1874 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 1867,1878 ----
  	for ac_func in getpwanam
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:1871: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 1876 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 1893,1899 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:1897: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 1895,1901 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:1899: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 2027,2038 ****
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2031: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2036 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 2029,2040 ----
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2033: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2038 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 2055,2061 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2059: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 2057,2063 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2061: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 2107,2118 ****
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2111: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2116 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 2109,2120 ----
  	for ac_func in getluid setluid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:2113: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2118 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 2135,2141 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2139: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 2137,2143 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2141: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 2163,2169 ****
  *-dec-osf*)
  	if test ! -z "USE_SIA" ; then
  		echo $ac_n "checking for Digital Unix Security Integration Architecture""... $ac_c" 1>&6
! echo "configure:2167: checking for Digital Unix Security Integration Architecture" >&5
  		if test -f /etc/sia/matrix.conf; then
  			echo "$ac_t""yes" 1>&6
  			cat >> confdefs.h <<\EOF
--- 2165,2171 ----
  *-dec-osf*)
  	if test ! -z "USE_SIA" ; then
  		echo $ac_n "checking for Digital Unix Security Integration Architecture""... $ac_c" 1>&6
! echo "configure:2169: checking for Digital Unix Security Integration Architecture" >&5
  		if test -f /etc/sia/matrix.conf; then
  			echo "$ac_t""yes" 1>&6
  			cat >> confdefs.h <<\EOF
***************
*** 2234,2240 ****
    
  
  		echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2238: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2236,2242 ----
    
  
  		echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2240: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2242,2248 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2246 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2244,2250 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2248 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2253,2259 ****
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2257: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2255,2261 ----
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2259: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2290,2296 ****
  # Checks for libraries.
  if test -z "$no_libnsl" ; then
  	echo $ac_n "checking for yp_match in -lnsl""... $ac_c" 1>&6
! echo "configure:2294: checking for yp_match in -lnsl" >&5
  ac_lib_var=`echo nsl'_'yp_match | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2292,2298 ----
  # Checks for libraries.
  if test -z "$no_libnsl" ; then
  	echo $ac_n "checking for yp_match in -lnsl""... $ac_c" 1>&6
! echo "configure:2296: checking for yp_match in -lnsl" >&5
  ac_lib_var=`echo nsl'_'yp_match | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2298,2304 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lnsl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2302 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2300,2306 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lnsl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2304 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2309,2315 ****
  yp_match()
  ; return 0; }
  EOF
! if { (eval echo configure:2313: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2311,2317 ----
  yp_match()
  ; return 0; }
  EOF
! if { (eval echo configure:2315: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2339,2345 ****
  fi
  if test -z "$no_libsocket" ; then
  	echo $ac_n "checking for main in -lsocket""... $ac_c" 1>&6
! echo "configure:2343: checking for main in -lsocket" >&5
  ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2341,2347 ----
  fi
  if test -z "$no_libsocket" ; then
  	echo $ac_n "checking for main in -lsocket""... $ac_c" 1>&6
! echo "configure:2345: checking for main in -lsocket" >&5
  ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2347,2360 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lsocket  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2351 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:2358: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2349,2362 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lsocket  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2353 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:2360: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2384,2390 ****
  fi
  
  echo $ac_n "checking for innetgr in -lrpc""... $ac_c" 1>&6
! echo "configure:2388: checking for innetgr in -lrpc" >&5
  ac_lib_var=`echo rpc'_'innetgr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2386,2392 ----
  fi
  
  echo $ac_n "checking for innetgr in -lrpc""... $ac_c" 1>&6
! echo "configure:2390: checking for innetgr in -lrpc" >&5
  ac_lib_var=`echo rpc'_'innetgr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2392,2398 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lrpc -lyp -lrpc $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2396 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2394,2400 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lrpc -lyp -lrpc $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2398 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2403,2409 ****
  innetgr()
  ; return 0; }
  EOF
! if { (eval echo configure:2407: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2405,2411 ----
  innetgr()
  ; return 0; }
  EOF
! if { (eval echo configure:2409: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2425,2431 ****
  
  
  echo $ac_n "checking for getspnam in -lgen""... $ac_c" 1>&6
! echo "configure:2429: checking for getspnam in -lgen" >&5
  ac_lib_var=`echo gen'_'getspnam | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2427,2433 ----
  
  
  echo $ac_n "checking for getspnam in -lgen""... $ac_c" 1>&6
! echo "configure:2431: checking for getspnam in -lgen" >&5
  ac_lib_var=`echo gen'_'getspnam | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2433,2439 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lgen  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2437 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2435,2441 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lgen  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2439 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2444,2450 ****
  getspnam()
  ; return 0; }
  EOF
! if { (eval echo configure:2448: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2446,2452 ----
  getspnam()
  ; return 0; }
  EOF
! if { (eval echo configure:2450: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2465,2471 ****
  fi
  
  echo $ac_n "checking for deflate in -lz""... $ac_c" 1>&6
! echo "configure:2469: checking for deflate in -lz" >&5
  ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2467,2473 ----
  fi
  
  echo $ac_n "checking for deflate in -lz""... $ac_c" 1>&6
! echo "configure:2471: checking for deflate in -lz" >&5
  ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2473,2479 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lz  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2477 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2475,2481 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lz  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2479 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2484,2490 ****
  deflate()
  ; return 0; }
  EOF
! if { (eval echo configure:2488: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2486,2492 ----
  deflate()
  ; return 0; }
  EOF
! if { (eval echo configure:2490: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2513,2519 ****
  fi
  
  echo $ac_n "checking for login in -lutil""... $ac_c" 1>&6
! echo "configure:2517: checking for login in -lutil" >&5
  ac_lib_var=`echo util'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2515,2521 ----
  fi
  
  echo $ac_n "checking for login in -lutil""... $ac_c" 1>&6
! echo "configure:2519: checking for login in -lutil" >&5
  ac_lib_var=`echo util'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2521,2527 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lutil  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2525 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2523,2529 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lutil  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2527 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2532,2538 ****
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:2536: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2534,2540 ----
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:2538: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2559,2570 ****
  # We don't want to check if we did an pcre override.
  if test -z "$no_comp_check" ; then
  	echo $ac_n "checking for regcomp""... $ac_c" 1>&6
! echo "configure:2563: checking for regcomp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_regcomp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2568 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char regcomp(); below.  */
--- 2561,2572 ----
  # We don't want to check if we did an pcre override.
  if test -z "$no_comp_check" ; then
  	echo $ac_n "checking for regcomp""... $ac_c" 1>&6
! echo "configure:2565: checking for regcomp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_regcomp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2570 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char regcomp(); below.  */
***************
*** 2587,2593 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2591: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_regcomp=yes"
  else
--- 2589,2595 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2593: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_regcomp=yes"
  else
***************
*** 2609,2615 ****
    echo "$ac_t""no" 1>&6
  
  			echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2613: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2611,2617 ----
    echo "$ac_t""no" 1>&6
  
  			echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
! echo "configure:2615: checking for pcre_info in -lpcre" >&5
  ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2617,2623 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2621 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2619,2625 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpcre  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2623 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2628,2634 ****
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2632: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2630,2636 ----
  pcre_info()
  ; return 0; }
  EOF
! if { (eval echo configure:2634: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2664,2675 ****
  fi
  
  echo $ac_n "checking for strcasecmp""... $ac_c" 1>&6
! echo "configure:2668: checking for strcasecmp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strcasecmp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2673 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strcasecmp(); below.  */
--- 2666,2677 ----
  fi
  
  echo $ac_n "checking for strcasecmp""... $ac_c" 1>&6
! echo "configure:2670: checking for strcasecmp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strcasecmp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2675 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strcasecmp(); below.  */
***************
*** 2692,2698 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2696: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strcasecmp=yes"
  else
--- 2694,2700 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2698: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strcasecmp=yes"
  else
***************
*** 2710,2716 ****
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for strcasecmp in -lresolv""... $ac_c" 1>&6
! echo "configure:2714: checking for strcasecmp in -lresolv" >&5
  ac_lib_var=`echo resolv'_'strcasecmp | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2712,2718 ----
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for strcasecmp in -lresolv""... $ac_c" 1>&6
! echo "configure:2716: checking for strcasecmp in -lresolv" >&5
  ac_lib_var=`echo resolv'_'strcasecmp | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2718,2724 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2722 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2720,2726 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2724 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2729,2735 ****
  strcasecmp()
  ; return 0; }
  EOF
! if { (eval echo configure:2733: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2731,2737 ----
  strcasecmp()
  ; return 0; }
  EOF
! if { (eval echo configure:2735: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2753,2764 ****
  fi
  
  echo $ac_n "checking for utimes""... $ac_c" 1>&6
! echo "configure:2757: checking for utimes" >&5
  if eval "test \"`echo '$''{'ac_cv_func_utimes'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2762 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char utimes(); below.  */
--- 2755,2766 ----
  fi
  
  echo $ac_n "checking for utimes""... $ac_c" 1>&6
! echo "configure:2759: checking for utimes" >&5
  if eval "test \"`echo '$''{'ac_cv_func_utimes'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2764 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char utimes(); below.  */
***************
*** 2781,2787 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2785: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_utimes=yes"
  else
--- 2783,2789 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2787: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_utimes=yes"
  else
***************
*** 2799,2805 ****
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for utimes in -lc89""... $ac_c" 1>&6
! echo "configure:2803: checking for utimes in -lc89" >&5
  ac_lib_var=`echo c89'_'utimes | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2801,2807 ----
  else
    echo "$ac_t""no" 1>&6
   echo $ac_n "checking for utimes in -lc89""... $ac_c" 1>&6
! echo "configure:2805: checking for utimes in -lc89" >&5
  ac_lib_var=`echo c89'_'utimes | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2807,2813 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lc89  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2811 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2809,2815 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lc89  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2813 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2818,2824 ****
  utimes()
  ; return 0; }
  EOF
! if { (eval echo configure:2822: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2820,2826 ----
  utimes()
  ; return 0; }
  EOF
! if { (eval echo configure:2824: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2843,2854 ****
  
  
  echo $ac_n "checking for strftime""... $ac_c" 1>&6
! echo "configure:2847: checking for strftime" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strftime'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2852 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strftime(); below.  */
--- 2845,2856 ----
  
  
  echo $ac_n "checking for strftime""... $ac_c" 1>&6
! echo "configure:2849: checking for strftime" >&5
  if eval "test \"`echo '$''{'ac_cv_func_strftime'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2854 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char strftime(); below.  */
***************
*** 2871,2877 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2875: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strftime=yes"
  else
--- 2873,2879 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2877: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_strftime=yes"
  else
***************
*** 2893,2899 ****
    echo "$ac_t""no" 1>&6
  # strftime is in -lintl on SCO UNIX.
  echo $ac_n "checking for strftime in -lintl""... $ac_c" 1>&6
! echo "configure:2897: checking for strftime in -lintl" >&5
  ac_lib_var=`echo intl'_'strftime | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2895,2901 ----
    echo "$ac_t""no" 1>&6
  # strftime is in -lintl on SCO UNIX.
  echo $ac_n "checking for strftime in -lintl""... $ac_c" 1>&6
! echo "configure:2899: checking for strftime in -lintl" >&5
  ac_lib_var=`echo intl'_'strftime | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2901,2907 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lintl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2905 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2903,2909 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lintl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2907 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2912,2918 ****
  strftime()
  ; return 0; }
  EOF
! if { (eval echo configure:2916: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2914,2920 ----
  strftime()
  ; return 0; }
  EOF
! if { (eval echo configure:2918: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2944,2960 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:2948: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2953 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:2958: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 2946,2962 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:2950: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2955 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:2960: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 2983,2991 ****
  
  # Check for ALTDIRFUNC glob() extension
  echo $ac_n "checking for GLOB_ALTDIRFUNC support""... $ac_c" 1>&6
! echo "configure:2987: checking for GLOB_ALTDIRFUNC support" >&5
  cat > conftest.$ac_ext <<EOF
! #line 2989 "configure"
  #include "confdefs.h"
  
  		#include <glob.h>
--- 2985,2993 ----
  
  # Check for ALTDIRFUNC glob() extension
  echo $ac_n "checking for GLOB_ALTDIRFUNC support""... $ac_c" 1>&6
! echo "configure:2989: checking for GLOB_ALTDIRFUNC support" >&5
  cat > conftest.$ac_ext <<EOF
! #line 2991 "configure"
  #include "confdefs.h"
  
  		#include <glob.h>
***************
*** 3016,3024 ****
  
  # Check for g.gl_matchc glob() extension
  echo $ac_n "checking for gl_matchc field in glob_t""... $ac_c" 1>&6
! echo "configure:3020: checking for gl_matchc field in glob_t" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3022 "configure"
  #include "confdefs.h"
  
                  #include <glob.h>
--- 3018,3026 ----
  
  # Check for g.gl_matchc glob() extension
  echo $ac_n "checking for gl_matchc field in glob_t""... $ac_c" 1>&6
! echo "configure:3022: checking for gl_matchc field in glob_t" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3024 "configure"
  #include "confdefs.h"
  
                  #include <glob.h>
***************
*** 3074,3090 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3078: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3083 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3088: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 3076,3092 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3080: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3085 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3090: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 3111,3117 ****
  done
  
  			echo $ac_n "checking for main in -lkrb""... $ac_c" 1>&6
! echo "configure:3115: checking for main in -lkrb" >&5
  ac_lib_var=`echo krb'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3113,3119 ----
  done
  
  			echo $ac_n "checking for main in -lkrb""... $ac_c" 1>&6
! echo "configure:3117: checking for main in -lkrb" >&5
  ac_lib_var=`echo krb'_'main | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3119,3132 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lkrb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3123 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:3130: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3121,3134 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lkrb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3125 "configure"
  #include "confdefs.h"
  
  int main() {
  main()
  ; return 0; }
  EOF
! if { (eval echo configure:3132: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3162,3168 ****
  
  			KLIBS="-lkrb -ldes"
  			echo $ac_n "checking for dn_expand in -lresolv""... $ac_c" 1>&6
! echo "configure:3166: checking for dn_expand in -lresolv" >&5
  ac_lib_var=`echo resolv'_'dn_expand | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3164,3170 ----
  
  			KLIBS="-lkrb -ldes"
  			echo $ac_n "checking for dn_expand in -lresolv""... $ac_c" 1>&6
! echo "configure:3168: checking for dn_expand in -lresolv" >&5
  ac_lib_var=`echo resolv'_'dn_expand | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3170,3176 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3174 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 3172,3178 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lresolv  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3176 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3181,3187 ****
  dn_expand()
  ; return 0; }
  EOF
! if { (eval echo configure:3185: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3183,3189 ----
  dn_expand()
  ; return 0; }
  EOF
! if { (eval echo configure:3187: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3274,3285 ****
  			SKEY_MSG="yes" 
  	
  			echo $ac_n "checking for skey_keyinfo""... $ac_c" 1>&6
! echo "configure:3278: checking for skey_keyinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_func_skey_keyinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3283 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char skey_keyinfo(); below.  */
--- 3276,3287 ----
  			SKEY_MSG="yes" 
  	
  			echo $ac_n "checking for skey_keyinfo""... $ac_c" 1>&6
! echo "configure:3280: checking for skey_keyinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_func_skey_keyinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3285 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char skey_keyinfo(); below.  */
***************
*** 3302,3308 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3306: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_skey_keyinfo=yes"
  else
--- 3304,3310 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3308: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_skey_keyinfo=yes"
  else
***************
*** 3329,3334 ****
--- 3331,3353 ----
  
  fi
  
+ SECURID_MSG="no"
+ # Check whether --with-securid or --without-securid was given.
+ if test "${with_securid+set}" = set; then
+   withval="$with_securid"
+   
+ 		if test "x$withval" != "xno" ; then
+ 			cat >> confdefs.h <<\EOF
+ #define SECURID 1
+ EOF
+ 
+ 			LIBS="$LIBS sdiclient.a"
+ 			SECURID_MSG="yes" 
+ 		fi
+ 	
+ 
+ fi
+ 
  
  # Check whether user wants TCP wrappers support
  TCPW_MSG="no" 
***************
*** 3340,3348 ****
  			saved_LIBS="$LIBS"
  			LIBS="-lwrap $LIBS"
  			echo $ac_n "checking for libwrap""... $ac_c" 1>&6
! echo "configure:3344: checking for libwrap" >&5
  			cat > conftest.$ac_ext <<EOF
! #line 3346 "configure"
  #include "confdefs.h"
  
  #include <tcpd.h>
--- 3359,3367 ----
  			saved_LIBS="$LIBS"
  			LIBS="-lwrap $LIBS"
  			echo $ac_n "checking for libwrap""... $ac_c" 1>&6
! echo "configure:3363: checking for libwrap" >&5
  			cat > conftest.$ac_ext <<EOF
! #line 3365 "configure"
  #include "confdefs.h"
  
  #include <tcpd.h>
***************
*** 3352,3358 ****
  hosts_access(0);
  ; return 0; }
  EOF
! if { (eval echo configure:3356: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    
  					echo "$ac_t""yes" 1>&6
--- 3371,3377 ----
  hosts_access(0);
  ; return 0; }
  EOF
! if { (eval echo configure:3375: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    
  					echo "$ac_t""yes" 1>&6
***************
*** 3381,3392 ****
  for ac_func in arc4random atexit b64_ntop bcopy bindresvport_sa clock fchown fchmod freeaddrinfo futimes gai_strerror getcwd getaddrinfo getgrouplist getnameinfo getrlimit getrusage getttyent getusershell glob inet_aton inet_ntoa innetgr login_getcapbool md5_crypt memmove mkdtemp on_exit openpty realpath rresvport_af setdtablesize setenv seteuid setlogin setproctitle setreuid setrlimit setsid sigaction sigvec snprintf strerror strlcat strlcpy strmode strsep strtok_r sysconf tcgetpgrp utimes vsnprintf vhangup vis waitpid _getpty __b64_ntop
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3385: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3390 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3400,3411 ----
  for ac_func in arc4random atexit b64_ntop bcopy bindresvport_sa clock fchown fchmod freeaddrinfo futimes gai_strerror getcwd getaddrinfo getgrouplist getnameinfo getrlimit getrusage getttyent getusershell glob inet_aton inet_ntoa innetgr login_getcapbool md5_crypt memmove mkdtemp on_exit openpty realpath rresvport_af setdtablesize setenv seteuid setlogin setproctitle setreuid setrlimit setsid sigaction sigvec snprintf strerror strlcat strlcpy strmode strsep strtok_r sysconf tcgetpgrp utimes vsnprintf vhangup vis waitpid _getpty __b64_ntop
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3404: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3409 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3409,3415 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3413: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3428,3434 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3432: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3436,3447 ****
  for ac_func in gettimeofday time
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3440: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3445 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3455,3466 ----
  for ac_func in gettimeofday time
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3459: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3464 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3464,3470 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3468: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3483,3489 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3487: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3492,3508 ****
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3496: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3501 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3506: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 3511,3527 ----
  do
  ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
! echo "configure:3515: checking for $ac_hdr" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3520 "configure"
  #include "confdefs.h"
  #include <$ac_hdr>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:3525: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 3531,3542 ****
  for ac_func in login logout updwtmp logwtmp
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3535: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3540 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3550,3561 ----
  for ac_func in login logout updwtmp logwtmp
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3554: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3559 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3559,3565 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3563: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3578,3584 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3582: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3586,3597 ****
  for ac_func in endutent getutent getutid getutline pututline setutent
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3590: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3595 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3605,3616 ----
  for ac_func in endutent getutent getutid getutline pututline setutent
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3609: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3614 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3614,3620 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3618: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3633,3639 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3637: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3641,3652 ****
  for ac_func in utmpname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3645: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3650 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3660,3671 ----
  for ac_func in utmpname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3664: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3669 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3669,3675 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3673: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3688,3694 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3692: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3696,3707 ****
  for ac_func in endutxent getutxent getutxid getutxline pututxline 
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3700: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3705 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3715,3726 ----
  for ac_func in endutxent getutxent getutxid getutxline pututxline 
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3719: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3724 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3724,3730 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3728: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3743,3749 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3747: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3751,3762 ****
  for ac_func in setutxent utmpxname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3755: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3760 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3770,3781 ----
  for ac_func in setutxent utmpxname
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3774: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3779 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3779,3785 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3798,3804 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3802: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3805,3816 ****
  
  
  echo $ac_n "checking for getuserattr""... $ac_c" 1>&6
! echo "configure:3809: checking for getuserattr" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getuserattr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3814 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getuserattr(); below.  */
--- 3824,3835 ----
  
  
  echo $ac_n "checking for getuserattr""... $ac_c" 1>&6
! echo "configure:3828: checking for getuserattr" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getuserattr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3833 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getuserattr(); below.  */
***************
*** 3833,3839 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3837: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getuserattr=yes"
  else
--- 3852,3858 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3856: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getuserattr=yes"
  else
***************
*** 3854,3860 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getuserattr in -ls""... $ac_c" 1>&6
! echo "configure:3858: checking for getuserattr in -ls" >&5
  ac_lib_var=`echo s'_'getuserattr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3873,3879 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getuserattr in -ls""... $ac_c" 1>&6
! echo "configure:3877: checking for getuserattr in -ls" >&5
  ac_lib_var=`echo s'_'getuserattr | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3862,3868 ****
    ac_save_LIBS="$LIBS"
  LIBS="-ls  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3866 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 3881,3887 ----
    ac_save_LIBS="$LIBS"
  LIBS="-ls  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3885 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3873,3879 ****
  getuserattr()
  ; return 0; }
  EOF
! if { (eval echo configure:3877: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3892,3898 ----
  getuserattr()
  ; return 0; }
  EOF
! if { (eval echo configure:3896: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3901,3912 ****
  
  
  echo $ac_n "checking for login""... $ac_c" 1>&6
! echo "configure:3905: checking for login" >&5
  if eval "test \"`echo '$''{'ac_cv_func_login'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3910 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char login(); below.  */
--- 3920,3931 ----
  
  
  echo $ac_n "checking for login""... $ac_c" 1>&6
! echo "configure:3924: checking for login" >&5
  if eval "test \"`echo '$''{'ac_cv_func_login'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3929 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char login(); below.  */
***************
*** 3929,3935 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3933: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_login=yes"
  else
--- 3948,3954 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3952: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_login=yes"
  else
***************
*** 3950,3956 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for login in -lbsd""... $ac_c" 1>&6
! echo "configure:3954: checking for login in -lbsd" >&5
  ac_lib_var=`echo bsd'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3969,3975 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for login in -lbsd""... $ac_c" 1>&6
! echo "configure:3973: checking for login in -lbsd" >&5
  ac_lib_var=`echo bsd'_'login | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3958,3964 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3962 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 3977,3983 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3981 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3969,3975 ****
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:3973: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3988,3994 ----
  login()
  ; return 0; }
  EOF
! if { (eval echo configure:3992: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3997,4008 ****
  
  
  echo $ac_n "checking for daemon""... $ac_c" 1>&6
! echo "configure:4001: checking for daemon" >&5
  if eval "test \"`echo '$''{'ac_cv_func_daemon'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4006 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char daemon(); below.  */
--- 4016,4027 ----
  
  
  echo $ac_n "checking for daemon""... $ac_c" 1>&6
! echo "configure:4020: checking for daemon" >&5
  if eval "test \"`echo '$''{'ac_cv_func_daemon'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4025 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char daemon(); below.  */
***************
*** 4025,4031 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4029: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_daemon=yes"
  else
--- 4044,4050 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4048: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_daemon=yes"
  else
***************
*** 4046,4052 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for daemon in -lbsd""... $ac_c" 1>&6
! echo "configure:4050: checking for daemon in -lbsd" >&5
  ac_lib_var=`echo bsd'_'daemon | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4065,4071 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for daemon in -lbsd""... $ac_c" 1>&6
! echo "configure:4069: checking for daemon in -lbsd" >&5
  ac_lib_var=`echo bsd'_'daemon | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4054,4060 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4058 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4073,4079 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lbsd  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4077 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4065,4071 ****
  daemon()
  ; return 0; }
  EOF
! if { (eval echo configure:4069: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4084,4090 ----
  daemon()
  ; return 0; }
  EOF
! if { (eval echo configure:4088: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4093,4104 ****
  
  
  echo $ac_n "checking for getpagesize""... $ac_c" 1>&6
! echo "configure:4097: checking for getpagesize" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpagesize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4102 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getpagesize(); below.  */
--- 4112,4123 ----
  
  
  echo $ac_n "checking for getpagesize""... $ac_c" 1>&6
! echo "configure:4116: checking for getpagesize" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpagesize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4121 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getpagesize(); below.  */
***************
*** 4121,4127 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4125: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getpagesize=yes"
  else
--- 4140,4146 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4144: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getpagesize=yes"
  else
***************
*** 4142,4148 ****
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getpagesize in -lucb""... $ac_c" 1>&6
! echo "configure:4146: checking for getpagesize in -lucb" >&5
  ac_lib_var=`echo ucb'_'getpagesize | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4161,4167 ----
  else
    echo "$ac_t""no" 1>&6
  echo $ac_n "checking for getpagesize in -lucb""... $ac_c" 1>&6
! echo "configure:4165: checking for getpagesize in -lucb" >&5
  ac_lib_var=`echo ucb'_'getpagesize | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4150,4156 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lucb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4154 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4169,4175 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lucb  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4173 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4161,4167 ****
  getpagesize()
  ; return 0; }
  EOF
! if { (eval echo configure:4165: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4180,4186 ----
  getpagesize()
  ; return 0; }
  EOF
! if { (eval echo configure:4184: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4191,4209 ****
  # Check for broken snprintf
  if test "x$ac_cv_func_snprintf" = "xyes" ; then
  	echo $ac_n "checking whether snprintf correctly terminates long strings""... $ac_c" 1>&6
! echo "configure:4195: checking whether snprintf correctly terminates long strings" >&5
  	if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4200 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
  int main(void){char b[5];snprintf(b,5,"123456789");return(b[4]!='\0');}
  		
  EOF
! if { (eval echo configure:4207: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    echo "$ac_t""yes" 1>&6
  else
--- 4210,4228 ----
  # Check for broken snprintf
  if test "x$ac_cv_func_snprintf" = "xyes" ; then
  	echo $ac_n "checking whether snprintf correctly terminates long strings""... $ac_c" 1>&6
! echo "configure:4214: checking whether snprintf correctly terminates long strings" >&5
  	if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4219 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
  int main(void){char b[5];snprintf(b,5,"123456789");return(b[4]!='\0');}
  		
  EOF
! if { (eval echo configure:4226: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    echo "$ac_t""yes" 1>&6
  else
***************
*** 4226,4232 ****
  fi
  
  echo $ac_n "checking whether getpgrp takes no argument""... $ac_c" 1>&6
! echo "configure:4230: checking whether getpgrp takes no argument" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpgrp_void'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4245,4251 ----
  fi
  
  echo $ac_n "checking whether getpgrp takes no argument""... $ac_c" 1>&6
! echo "configure:4249: checking whether getpgrp takes no argument" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpgrp_void'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4234,4240 ****
    { echo "configure: error: cannot check getpgrp if cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4238 "configure"
  #include "confdefs.h"
  
  /*
--- 4253,4259 ----
    { echo "configure: error: cannot check getpgrp if cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4257 "configure"
  #include "confdefs.h"
  
  /*
***************
*** 4289,4295 ****
  }
  
  EOF
! if { (eval echo configure:4293: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_func_getpgrp_void=yes
  else
--- 4308,4314 ----
  }
  
  EOF
! if { (eval echo configure:4312: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_func_getpgrp_void=yes
  else
***************
*** 4325,4331 ****
  			fi
  
  			echo $ac_n "checking for dlopen in -ldl""... $ac_c" 1>&6
! echo "configure:4329: checking for dlopen in -ldl" >&5
  ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4344,4350 ----
  			fi
  
  			echo $ac_n "checking for dlopen in -ldl""... $ac_c" 1>&6
! echo "configure:4348: checking for dlopen in -ldl" >&5
  ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4333,4339 ****
    ac_save_LIBS="$LIBS"
  LIBS="-ldl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4337 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4352,4358 ----
    ac_save_LIBS="$LIBS"
  LIBS="-ldl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4356 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4344,4350 ****
  dlopen()
  ; return 0; }
  EOF
! if { (eval echo configure:4348: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4363,4369 ----
  dlopen()
  ; return 0; }
  EOF
! if { (eval echo configure:4367: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4372,4378 ****
  fi
  
  			echo $ac_n "checking for pam_set_item in -lpam""... $ac_c" 1>&6
! echo "configure:4376: checking for pam_set_item in -lpam" >&5
  ac_lib_var=`echo pam'_'pam_set_item | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4391,4397 ----
  fi
  
  			echo $ac_n "checking for pam_set_item in -lpam""... $ac_c" 1>&6
! echo "configure:4395: checking for pam_set_item in -lpam" >&5
  ac_lib_var=`echo pam'_'pam_set_item | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4380,4386 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpam  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4384 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4399,4405 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpam  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4403 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4391,4397 ****
  pam_set_item()
  ; return 0; }
  EOF
! if { (eval echo configure:4395: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4410,4416 ----
  pam_set_item()
  ; return 0; }
  EOF
! if { (eval echo configure:4414: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4422,4433 ****
  			for ac_func in pam_getenvlist
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4426: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4431 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 4441,4452 ----
  			for ac_func in pam_getenvlist
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4445: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4450 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 4450,4456 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4454: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 4469,4475 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4473: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 4492,4500 ****
  if test "x$PAM_MSG" = "xyes" ; then
  	# Check PAM strerror arguments (old PAM)
  	echo $ac_n "checking whether pam_strerror takes only one argument""... $ac_c" 1>&6
! echo "configure:4496: checking whether pam_strerror takes only one argument" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 4498 "configure"
  #include "confdefs.h"
  
  #include <stdlib.h>
--- 4511,4519 ----
  if test "x$PAM_MSG" = "xyes" ; then
  	# Check PAM strerror arguments (old PAM)
  	echo $ac_n "checking whether pam_strerror takes only one argument""... $ac_c" 1>&6
! echo "configure:4515: checking whether pam_strerror takes only one argument" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 4517 "configure"
  #include "confdefs.h"
  
  #include <stdlib.h>
***************
*** 4504,4510 ****
  (void)pam_strerror((pam_handle_t *)NULL, -1);
  ; return 0; }
  EOF
! if { (eval echo configure:4508: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""no" 1>&6
  else
--- 4523,4529 ----
  (void)pam_strerror((pam_handle_t *)NULL, -1);
  ; return 0; }
  EOF
! if { (eval echo configure:4527: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""no" 1>&6
  else
***************
*** 4544,4550 ****
  	tryssldir="$tryssldir $prefix"
  fi
  echo $ac_n "checking for OpenSSL directory""... $ac_c" 1>&6
! echo "configure:4548: checking for OpenSSL directory" >&5
  if eval "test \"`echo '$''{'ac_cv_openssldir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4563,4569 ----
  	tryssldir="$tryssldir $prefix"
  fi
  echo $ac_n "checking for OpenSSL directory""... $ac_c" 1>&6
! echo "configure:4567: checking for OpenSSL directory" >&5
  if eval "test \"`echo '$''{'ac_cv_openssldir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4587,4593 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4591 "configure"
  #include "confdefs.h"
  
  #include <string.h>
--- 4606,4612 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4610 "configure"
  #include "confdefs.h"
  
  #include <string.h>
***************
*** 4601,4607 ****
  }
  			
  EOF
! if { (eval echo configure:4605: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  				found_crypto=1
--- 4620,4626 ----
  }
  			
  EOF
! if { (eval echo configure:4624: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  				found_crypto=1
***************
*** 4670,4676 ****
  # Now test RSA support
  saved_LIBS="$LIBS"
  echo $ac_n "checking for RSA support""... $ac_c" 1>&6
! echo "configure:4674: checking for RSA support" >&5
  for WANTS_RSAREF in "" 1 ; do
  	if test -z "$WANTS_RSAREF" ; then
  		LIBS="$saved_LIBS"
--- 4689,4695 ----
  # Now test RSA support
  saved_LIBS="$LIBS"
  echo $ac_n "checking for RSA support""... $ac_c" 1>&6
! echo "configure:4693: checking for RSA support" >&5
  for WANTS_RSAREF in "" 1 ; do
  	if test -z "$WANTS_RSAREF" ; then
  		LIBS="$saved_LIBS"
***************
*** 4681,4687 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4685 "configure"
  #include "confdefs.h"
  
  #include <string.h>
--- 4700,4706 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4704 "configure"
  #include "confdefs.h"
  
  #include <string.h>
***************
*** 4700,4706 ****
  }
  	
  EOF
! if { (eval echo configure:4704: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  		rsa_works=1
--- 4719,4725 ----
  }
  	
  EOF
! if { (eval echo configure:4723: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    
  		rsa_works=1
***************
*** 4738,4744 ****
  # version in OpenSSL. Skip this for PAM
  if test "x$PAM_MSG" = "xno" -a "x$check_for_libcrypt_later" = "x1"; then
  	echo $ac_n "checking for crypt in -lcrypt""... $ac_c" 1>&6
! echo "configure:4742: checking for crypt in -lcrypt" >&5
  ac_lib_var=`echo crypt'_'crypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4757,4763 ----
  # version in OpenSSL. Skip this for PAM
  if test "x$PAM_MSG" = "xno" -a "x$check_for_libcrypt_later" = "x1"; then
  	echo $ac_n "checking for crypt in -lcrypt""... $ac_c" 1>&6
! echo "configure:4761: checking for crypt in -lcrypt" >&5
  ac_lib_var=`echo crypt'_'crypt | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4746,4752 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lcrypt  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4750 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4765,4771 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lcrypt  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4769 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4757,4763 ****
  crypt()
  ; return 0; }
  EOF
! if { (eval echo configure:4761: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4776,4782 ----
  crypt()
  ; return 0; }
  EOF
! if { (eval echo configure:4780: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4786,4792 ****
  
  # Checks for data types
  echo $ac_n "checking size of char""... $ac_c" 1>&6
! echo "configure:4790: checking size of char" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_char'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4805,4811 ----
  
  # Checks for data types
  echo $ac_n "checking size of char""... $ac_c" 1>&6
! echo "configure:4809: checking size of char" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_char'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4794,4800 ****
    ac_cv_sizeof_char=1
  else
    cat > conftest.$ac_ext <<EOF
! #line 4798 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 4813,4819 ----
    ac_cv_sizeof_char=1
  else
    cat > conftest.$ac_ext <<EOF
! #line 4817 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4805,4811 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4809: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_char=`cat conftestval`
  else
--- 4824,4830 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:4828: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_char=`cat conftestval`
  else
***************
*** 4825,4831 ****
  
  
  echo $ac_n "checking size of short int""... $ac_c" 1>&6
! echo "configure:4829: checking size of short int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_short_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4844,4850 ----
  
  
  echo $ac_n "checking size of short int""... $ac_c" 1>&6
! echo "configure:4848: checking size of short int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_short_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4833,4839 ****
    ac_cv_sizeof_short_int=2
  else
    cat > conftest.$ac_ext <<EOF
! #line 4837 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 4852,4858 ----
    ac_cv_sizeof_short_int=2
  else
    cat > conftest.$ac_ext <<EOF
! #line 4856 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4844,4850 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4848: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_short_int=`cat conftestval`
  else
--- 4863,4869 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:4867: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_short_int=`cat conftestval`
  else
***************
*** 4864,4870 ****
  
  
  echo $ac_n "checking size of int""... $ac_c" 1>&6
! echo "configure:4868: checking size of int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4883,4889 ----
  
  
  echo $ac_n "checking size of int""... $ac_c" 1>&6
! echo "configure:4887: checking size of int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4872,4878 ****
    ac_cv_sizeof_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4876 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 4891,4897 ----
    ac_cv_sizeof_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4895 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4883,4889 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4887: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_int=`cat conftestval`
  else
--- 4902,4908 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:4906: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_int=`cat conftestval`
  else
***************
*** 4903,4909 ****
  
  
  echo $ac_n "checking size of long int""... $ac_c" 1>&6
! echo "configure:4907: checking size of long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4922,4928 ----
  
  
  echo $ac_n "checking size of long int""... $ac_c" 1>&6
! echo "configure:4926: checking size of long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4911,4917 ****
    ac_cv_sizeof_long_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4915 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 4930,4936 ----
    ac_cv_sizeof_long_int=4
  else
    cat > conftest.$ac_ext <<EOF
! #line 4934 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4922,4928 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4926: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_int=`cat conftestval`
  else
--- 4941,4947 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:4945: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_int=`cat conftestval`
  else
***************
*** 4942,4948 ****
  
  
  echo $ac_n "checking size of long long int""... $ac_c" 1>&6
! echo "configure:4946: checking size of long long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4961,4967 ----
  
  
  echo $ac_n "checking size of long long int""... $ac_c" 1>&6
! echo "configure:4965: checking size of long long int" >&5
  if eval "test \"`echo '$''{'ac_cv_sizeof_long_long_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4950,4956 ****
    ac_cv_sizeof_long_long_int=8
  else
    cat > conftest.$ac_ext <<EOF
! #line 4954 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
--- 4969,4975 ----
    ac_cv_sizeof_long_long_int=8
  else
    cat > conftest.$ac_ext <<EOF
! #line 4973 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  main()
***************
*** 4961,4967 ****
    exit(0);
  }
  EOF
! if { (eval echo configure:4965: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_long_int=`cat conftestval`
  else
--- 4980,4986 ----
    exit(0);
  }
  EOF
! if { (eval echo configure:4984: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_sizeof_long_long_int=`cat conftestval`
  else
***************
*** 4983,5002 ****
  
  # More checks for data types
  echo $ac_n "checking for u_int type""... $ac_c" 1>&6
! echo "configure:4987: checking for u_int type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 4993 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5000: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int="yes" 
  else
--- 5002,5021 ----
  
  # More checks for data types
  echo $ac_n "checking for u_int type""... $ac_c" 1>&6
! echo "configure:5006: checking for u_int type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5012 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5019: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int="yes" 
  else
***************
*** 5020,5039 ****
  fi
  
  echo $ac_n "checking for intXX_t types""... $ac_c" 1>&6
! echo "configure:5024: checking for intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5030 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int8_t a; int16_t b; int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5037: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_intxx_t="yes" 
  else
--- 5039,5058 ----
  fi
  
  echo $ac_n "checking for intXX_t types""... $ac_c" 1>&6
! echo "configure:5043: checking for intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5049 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int8_t a; int16_t b; int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5056: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_intxx_t="yes" 
  else
***************
*** 5057,5076 ****
  fi
  	
  echo $ac_n "checking for int64_t type""... $ac_c" 1>&6
! echo "configure:5061: checking for int64_t type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5067 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5074: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_int64_t="yes" 
  else
--- 5076,5095 ----
  fi
  	
  echo $ac_n "checking for int64_t type""... $ac_c" 1>&6
! echo "configure:5080: checking for int64_t type" >&5
  if eval "test \"`echo '$''{'ac_cv_have_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5086 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5093: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_int64_t="yes" 
  else
***************
*** 5094,5113 ****
  fi
  	
  echo $ac_n "checking for u_intXX_t types""... $ac_c" 1>&6
! echo "configure:5098: checking for u_intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5104 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int8_t a; u_int16_t b; u_int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5111: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_intxx_t="yes" 
  else
--- 5113,5132 ----
  fi
  	
  echo $ac_n "checking for u_intXX_t types""... $ac_c" 1>&6
! echo "configure:5117: checking for u_intXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_intxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5123 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int8_t a; u_int16_t b; u_int32_t c; a = b = c = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5130: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_intxx_t="yes" 
  else
***************
*** 5131,5150 ****
  fi
  
  echo $ac_n "checking for u_int64_t types""... $ac_c" 1>&6
! echo "configure:5135: checking for u_int64_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5141 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5148: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int64_t="yes" 
  else
--- 5150,5169 ----
  fi
  
  echo $ac_n "checking for u_int64_t types""... $ac_c" 1>&6
! echo "configure:5154: checking for u_int64_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_u_int64_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5160 "configure"
  #include "confdefs.h"
   #include <sys/types.h> 
  int main() {
   u_int64_t a; a = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5167: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_u_int64_t="yes" 
  else
***************
*** 5171,5179 ****
             test "x$ac_cv_header_sys_bitypes_h" = "xyes")
  then
  	echo $ac_n "checking for intXX_t and u_intXX_t types in sys/bitypes.h""... $ac_c" 1>&6
! echo "configure:5175: checking for intXX_t and u_intXX_t types in sys/bitypes.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5177 "configure"
  #include "confdefs.h"
  
  #include <sys/bitypes.h>
--- 5190,5198 ----
             test "x$ac_cv_header_sys_bitypes_h" = "xyes")
  then
  	echo $ac_n "checking for intXX_t and u_intXX_t types in sys/bitypes.h""... $ac_c" 1>&6
! echo "configure:5194: checking for intXX_t and u_intXX_t types in sys/bitypes.h" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 5196 "configure"
  #include "confdefs.h"
  
  #include <sys/bitypes.h>
***************
*** 5186,5192 ****
  		
  ; return 0; }
  EOF
! if { (eval echo configure:5190: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
--- 5205,5211 ----
  		
  ; return 0; }
  EOF
! if { (eval echo configure:5209: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
  			cat >> confdefs.h <<\EOF
***************
*** 5211,5223 ****
  
  if test -z "$have_u_intxx_t" ; then
  	echo $ac_n "checking for uintXX_t types""... $ac_c" 1>&6
! echo "configure:5215: checking for uintXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_uintxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5221 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5230,5242 ----
  
  if test -z "$have_u_intxx_t" ; then
  	echo $ac_n "checking for uintXX_t types""... $ac_c" 1>&6
! echo "configure:5234: checking for uintXX_t types" >&5
  if eval "test \"`echo '$''{'ac_cv_have_uintxx_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5240 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5226,5232 ****
   uint8_t a; uint16_t b; uint32_t c; a = b = c = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:5230: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_uintxx_t="yes" 
  else
--- 5245,5251 ----
   uint8_t a; uint16_t b; uint32_t c; a = b = c = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:5249: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_uintxx_t="yes" 
  else
***************
*** 5250,5262 ****
  fi
  
  echo $ac_n "checking for socklen_t""... $ac_c" 1>&6
! echo "configure:5254: checking for socklen_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_socklen_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5260 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5269,5281 ----
  fi
  
  echo $ac_n "checking for socklen_t""... $ac_c" 1>&6
! echo "configure:5273: checking for socklen_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_socklen_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5279 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5266,5272 ****
  socklen_t foo; foo = 1235;
  ; return 0; }
  EOF
! if { (eval echo configure:5270: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_socklen_t="yes" 
  else
--- 5285,5291 ----
  socklen_t foo; foo = 1235;
  ; return 0; }
  EOF
! if { (eval echo configure:5289: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_socklen_t="yes" 
  else
***************
*** 5289,5301 ****
  fi
  
  echo $ac_n "checking for size_t""... $ac_c" 1>&6
! echo "configure:5293: checking for size_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_size_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5299 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5308,5320 ----
  fi
  
  echo $ac_n "checking for size_t""... $ac_c" 1>&6
! echo "configure:5312: checking for size_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_size_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5318 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5304,5310 ****
   size_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5308: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_size_t="yes" 
  else
--- 5323,5329 ----
   size_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5327: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_size_t="yes" 
  else
***************
*** 5327,5339 ****
  fi
  
  echo $ac_n "checking for ssize_t""... $ac_c" 1>&6
! echo "configure:5331: checking for ssize_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ssize_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5337 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5346,5358 ----
  fi
  
  echo $ac_n "checking for ssize_t""... $ac_c" 1>&6
! echo "configure:5350: checking for ssize_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ssize_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5356 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5342,5348 ****
   ssize_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5346: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ssize_t="yes" 
  else
--- 5361,5367 ----
   ssize_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5365: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ssize_t="yes" 
  else
***************
*** 5365,5377 ****
  fi
  
  echo $ac_n "checking for clock_t""... $ac_c" 1>&6
! echo "configure:5369: checking for clock_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_clock_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5375 "configure"
  #include "confdefs.h"
  
  #include <time.h>
--- 5384,5396 ----
  fi
  
  echo $ac_n "checking for clock_t""... $ac_c" 1>&6
! echo "configure:5388: checking for clock_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_clock_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5394 "configure"
  #include "confdefs.h"
  
  #include <time.h>
***************
*** 5380,5386 ****
   clock_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5384: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_clock_t="yes" 
  else
--- 5399,5405 ----
   clock_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5403: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_clock_t="yes" 
  else
***************
*** 5403,5415 ****
  fi
  
  echo $ac_n "checking for sa_family_t""... $ac_c" 1>&6
! echo "configure:5407: checking for sa_family_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sa_family_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5413 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5422,5434 ----
  fi
  
  echo $ac_n "checking for sa_family_t""... $ac_c" 1>&6
! echo "configure:5426: checking for sa_family_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sa_family_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5432 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5419,5425 ****
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5423: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
--- 5438,5444 ----
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5442: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
***************
*** 5427,5433 ****
    cat conftest.$ac_ext >&5
    rm -rf conftest*
     cat > conftest.$ac_ext <<EOF
! #line 5431 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5446,5452 ----
    cat conftest.$ac_ext >&5
    rm -rf conftest*
     cat > conftest.$ac_ext <<EOF
! #line 5450 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5438,5444 ****
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5442: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
--- 5457,5463 ----
   sa_family_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5461: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sa_family_t="yes" 
  else
***************
*** 5464,5476 ****
  fi
  
  echo $ac_n "checking for pid_t""... $ac_c" 1>&6
! echo "configure:5468: checking for pid_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pid_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5474 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5483,5495 ----
  fi
  
  echo $ac_n "checking for pid_t""... $ac_c" 1>&6
! echo "configure:5487: checking for pid_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pid_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5493 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5479,5485 ****
   pid_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5483: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pid_t="yes" 
  else
--- 5498,5504 ----
   pid_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5502: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pid_t="yes" 
  else
***************
*** 5502,5514 ****
  fi
  
  echo $ac_n "checking for mode_t""... $ac_c" 1>&6
! echo "configure:5506: checking for mode_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_mode_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5512 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5521,5533 ----
  fi
  
  echo $ac_n "checking for mode_t""... $ac_c" 1>&6
! echo "configure:5525: checking for mode_t" >&5
  if eval "test \"`echo '$''{'ac_cv_have_mode_t'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5531 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5517,5523 ****
   mode_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5521: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_mode_t="yes" 
  else
--- 5536,5542 ----
   mode_t foo; foo = 1235; 
  ; return 0; }
  EOF
! if { (eval echo configure:5540: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_mode_t="yes" 
  else
***************
*** 5541,5553 ****
  
  
  echo $ac_n "checking for struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:5545: checking for struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_storage'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5551 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5560,5572 ----
  
  
  echo $ac_n "checking for struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:5564: checking for struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_storage'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5570 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5557,5563 ****
   struct sockaddr_storage s; 
  ; return 0; }
  EOF
! if { (eval echo configure:5561: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_storage="yes" 
  else
--- 5576,5582 ----
   struct sockaddr_storage s; 
  ; return 0; }
  EOF
! if { (eval echo configure:5580: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_storage="yes" 
  else
***************
*** 5580,5592 ****
  fi
  
  echo $ac_n "checking for struct sockaddr_in6""... $ac_c" 1>&6
! echo "configure:5584: checking for struct sockaddr_in6" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_in6'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5590 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5599,5611 ----
  fi
  
  echo $ac_n "checking for struct sockaddr_in6""... $ac_c" 1>&6
! echo "configure:5603: checking for struct sockaddr_in6" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_in6'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5609 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5596,5602 ****
   struct sockaddr_in6 s; s.sin6_family = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5600: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_in6="yes" 
  else
--- 5615,5621 ----
   struct sockaddr_in6 s; s.sin6_family = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5619: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_sockaddr_in6="yes" 
  else
***************
*** 5619,5631 ****
  fi
  
  echo $ac_n "checking for struct in6_addr""... $ac_c" 1>&6
! echo "configure:5623: checking for struct in6_addr" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_in6_addr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5629 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5638,5650 ----
  fi
  
  echo $ac_n "checking for struct in6_addr""... $ac_c" 1>&6
! echo "configure:5642: checking for struct in6_addr" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_in6_addr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5648 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5635,5641 ****
   struct in6_addr s; s.s6_addr[0] = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5639: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_in6_addr="yes" 
  else
--- 5654,5660 ----
   struct in6_addr s; s.s6_addr[0] = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:5658: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_in6_addr="yes" 
  else
***************
*** 5658,5670 ****
  fi
  
  echo $ac_n "checking for struct addrinfo""... $ac_c" 1>&6
! echo "configure:5662: checking for struct addrinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_addrinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5668 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 5677,5689 ----
  fi
  
  echo $ac_n "checking for struct addrinfo""... $ac_c" 1>&6
! echo "configure:5681: checking for struct addrinfo" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_addrinfo'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5687 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 5675,5681 ****
   struct addrinfo s; s.ai_flags = AI_PASSIVE; 
  ; return 0; }
  EOF
! if { (eval echo configure:5679: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_addrinfo="yes" 
  else
--- 5694,5700 ----
   struct addrinfo s; s.ai_flags = AI_PASSIVE; 
  ; return 0; }
  EOF
! if { (eval echo configure:5698: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_addrinfo="yes" 
  else
***************
*** 5698,5717 ****
  fi
  
  echo $ac_n "checking for struct timeval""... $ac_c" 1>&6
! echo "configure:5702: checking for struct timeval" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_timeval'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5708 "configure"
  #include "confdefs.h"
   #include <sys/time.h> 
  int main() {
   struct timeval tv; tv.tv_sec = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5715: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_timeval="yes" 
  else
--- 5717,5736 ----
  fi
  
  echo $ac_n "checking for struct timeval""... $ac_c" 1>&6
! echo "configure:5721: checking for struct timeval" >&5
  if eval "test \"`echo '$''{'ac_cv_have_struct_timeval'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 5727 "configure"
  #include "confdefs.h"
   #include <sys/time.h> 
  int main() {
   struct timeval tv; tv.tv_sec = 1;
  ; return 0; }
  EOF
! if { (eval echo configure:5734: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_struct_timeval="yes" 
  else
***************
*** 5745,5751 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 5749 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
--- 5764,5770 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 5768 "configure"
  #include "confdefs.h"
  
  #include <stdio.h>
***************
*** 5772,5778 ****
  #endif
  		
  EOF
! if { (eval echo configure:5776: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     true 
  else
--- 5791,5797 ----
  #endif
  		
  EOF
! if { (eval echo configure:5795: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     true 
  else
***************
*** 5796,5808 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmp.h""... $ac_c" 1>&6
! echo "configure:5800: checking for ut_host field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5806 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 5815,5827 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmp.h""... $ac_c" 1>&6
! echo "configure:5819: checking for ut_host field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5825 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 5836,5848 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5840: checking for ut_host field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5846 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 5855,5867 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
  	echo $ac_n "checking for ut_host field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5859: checking for ut_host field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5865 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 5876,5888 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"syslen
  	echo $ac_n "checking for syslen field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5880: checking for syslen field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5886 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 5895,5907 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"syslen
  	echo $ac_n "checking for syslen field in utmpx.h""... $ac_c" 1>&6
! echo "configure:5899: checking for syslen field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5905 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 5916,5928 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_pid
  	echo $ac_n "checking for ut_pid field in utmp.h""... $ac_c" 1>&6
! echo "configure:5920: checking for ut_pid field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5926 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 5935,5947 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_pid
  	echo $ac_n "checking for ut_pid field in utmp.h""... $ac_c" 1>&6
! echo "configure:5939: checking for ut_pid field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5945 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 5956,5968 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmp.h""... $ac_c" 1>&6
! echo "configure:5960: checking for ut_type field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5966 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 5975,5987 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmp.h""... $ac_c" 1>&6
! echo "configure:5979: checking for ut_type field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 5985 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 5996,6008 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6000: checking for ut_type field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6006 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6015,6027 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
  	echo $ac_n "checking for ut_type field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6019: checking for ut_type field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6025 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6036,6048 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmp.h""... $ac_c" 1>&6
! echo "configure:6040: checking for ut_tv field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6046 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6055,6067 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmp.h""... $ac_c" 1>&6
! echo "configure:6059: checking for ut_tv field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6065 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6076,6088 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmp.h""... $ac_c" 1>&6
! echo "configure:6080: checking for ut_id field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6086 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6095,6107 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmp.h""... $ac_c" 1>&6
! echo "configure:6099: checking for ut_id field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6105 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6116,6128 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6120: checking for ut_id field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6126 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6135,6147 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
  	echo $ac_n "checking for ut_id field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6139: checking for ut_id field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6145 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6156,6168 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmp.h""... $ac_c" 1>&6
! echo "configure:6160: checking for ut_addr field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6166 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6175,6187 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmp.h""... $ac_c" 1>&6
! echo "configure:6179: checking for ut_addr field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6185 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6196,6208 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6200: checking for ut_addr field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6206 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6215,6227 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
  	echo $ac_n "checking for ut_addr field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6219: checking for ut_addr field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6225 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6236,6248 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmp.h""... $ac_c" 1>&6
! echo "configure:6240: checking for ut_addr_v6 field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6246 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6255,6267 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmp.h""... $ac_c" 1>&6
! echo "configure:6259: checking for ut_addr_v6 field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6265 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6276,6288 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6280: checking for ut_addr_v6 field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6286 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6295,6307 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
  	echo $ac_n "checking for ut_addr_v6 field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6299: checking for ut_addr_v6 field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6305 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6316,6328 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_exit
  	echo $ac_n "checking for ut_exit field in utmp.h""... $ac_c" 1>&6
! echo "configure:6320: checking for ut_exit field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6326 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6335,6347 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_exit
  	echo $ac_n "checking for ut_exit field in utmp.h""... $ac_c" 1>&6
! echo "configure:6339: checking for ut_exit field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6345 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6356,6368 ****
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmp.h""... $ac_c" 1>&6
! echo "configure:6360: checking for ut_time field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6366 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
--- 6375,6387 ----
  		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmp.h""... $ac_c" 1>&6
! echo "configure:6379: checking for ut_time field in utmp.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6385 "configure"
  #include "confdefs.h"
  #include <utmp.h>
  EOF
***************
*** 6396,6408 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6400: checking for ut_time field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6406 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6415,6427 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
  	echo $ac_n "checking for ut_time field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6419: checking for ut_time field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6425 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6436,6448 ****
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6440: checking for ut_tv field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6446 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
--- 6455,6467 ----
  		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
  		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
  	echo $ac_n "checking for ut_tv field in utmpx.h""... $ac_c" 1>&6
! echo "configure:6459: checking for ut_tv field in utmpx.h" >&5
  	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  		cat > conftest.$ac_ext <<EOF
! #line 6465 "configure"
  #include "confdefs.h"
  #include <utmpx.h>
  EOF
***************
*** 6472,6483 ****
  	fi
  
  echo $ac_n "checking for st_blksize in struct stat""... $ac_c" 1>&6
! echo "configure:6476: checking for st_blksize in struct stat" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 6481 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/stat.h>
--- 6491,6502 ----
  	fi
  
  echo $ac_n "checking for st_blksize in struct stat""... $ac_c" 1>&6
! echo "configure:6495: checking for st_blksize in struct stat" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 6500 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/stat.h>
***************
*** 6485,6491 ****
  struct stat s; s.st_blksize;
  ; return 0; }
  EOF
! if { (eval echo configure:6489: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_st_blksize=yes
  else
--- 6504,6510 ----
  struct stat s; s.st_blksize;
  ; return 0; }
  EOF
! if { (eval echo configure:6508: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_st_blksize=yes
  else
***************
*** 6507,6519 ****
  
  
  echo $ac_n "checking for sun_len field in struct sockaddr_un""... $ac_c" 1>&6
! echo "configure:6511: checking for sun_len field in struct sockaddr_un" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sun_len_in_struct_sockaddr_un'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6517 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 6526,6538 ----
  
  
  echo $ac_n "checking for sun_len field in struct sockaddr_un""... $ac_c" 1>&6
! echo "configure:6530: checking for sun_len field in struct sockaddr_un" >&5
  if eval "test \"`echo '$''{'ac_cv_have_sun_len_in_struct_sockaddr_un'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6536 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 6523,6529 ****
   struct sockaddr_un s; s.sun_len = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6527: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sun_len_in_struct_sockaddr_un="yes" 
  else
--- 6542,6548 ----
   struct sockaddr_un s; s.sun_len = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6546: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_sun_len_in_struct_sockaddr_un="yes" 
  else
***************
*** 6545,6557 ****
  fi
  
  echo $ac_n "checking for ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6549: checking for ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6555 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 6564,6576 ----
  fi
  
  echo $ac_n "checking for ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6568: checking for ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have_ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6574 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 6561,6567 ****
   struct sockaddr_storage s; s.ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6565: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ss_family_in_struct_ss="yes" 
  else
--- 6580,6586 ----
   struct sockaddr_storage s; s.ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6584: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_ss_family_in_struct_ss="yes" 
  else
***************
*** 6583,6595 ****
  fi
  
  echo $ac_n "checking for __ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6587: checking for __ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have___ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6593 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 6602,6614 ----
  fi
  
  echo $ac_n "checking for __ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
! echo "configure:6606: checking for __ss_family field in struct sockaddr_storage" >&5
  if eval "test \"`echo '$''{'ac_cv_have___ss_family_in_struct_ss'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6612 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 6599,6605 ****
   struct sockaddr_storage s; s.__ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6603: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have___ss_family_in_struct_ss="yes" 
  else
--- 6618,6624 ----
   struct sockaddr_storage s; s.__ss_family = 1; 
  ; return 0; }
  EOF
! if { (eval echo configure:6622: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have___ss_family_in_struct_ss="yes" 
  else
***************
*** 6622,6634 ****
  fi
  
  echo $ac_n "checking for pw_class field in struct passwd""... $ac_c" 1>&6
! echo "configure:6626: checking for pw_class field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_class_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6632 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
--- 6641,6653 ----
  fi
  
  echo $ac_n "checking for pw_class field in struct passwd""... $ac_c" 1>&6
! echo "configure:6645: checking for pw_class field in struct passwd" >&5
  if eval "test \"`echo '$''{'ac_cv_have_pw_class_in_struct_passwd'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6651 "configure"
  #include "confdefs.h"
  
  #include <pwd.h>
***************
*** 6637,6643 ****
   struct passwd p; p.pw_class = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6641: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_class_in_struct_passwd="yes" 
  else
--- 6656,6662 ----
   struct passwd p; p.pw_class = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:6660: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     ac_cv_have_pw_class_in_struct_passwd="yes" 
  else
***************
*** 6661,6680 ****
  
  
  echo $ac_n "checking if libc defines __progname""... $ac_c" 1>&6
! echo "configure:6665: checking if libc defines __progname" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines___progname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6671 "configure"
  #include "confdefs.h"
  
  int main() {
   extern char *__progname; printf("%s", __progname); 
  ; return 0; }
  EOF
! if { (eval echo configure:6678: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines___progname="yes" 
  else
--- 6680,6699 ----
  
  
  echo $ac_n "checking if libc defines __progname""... $ac_c" 1>&6
! echo "configure:6684: checking if libc defines __progname" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines___progname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6690 "configure"
  #include "confdefs.h"
  
  int main() {
   extern char *__progname; printf("%s", __progname); 
  ; return 0; }
  EOF
! if { (eval echo configure:6697: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines___progname="yes" 
  else
***************
*** 6698,6717 ****
  
  
  echo $ac_n "checking if libc defines sys_errlist""... $ac_c" 1>&6
! echo "configure:6702: checking if libc defines sys_errlist" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_errlist'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6708 "configure"
  #include "confdefs.h"
  
  int main() {
   extern const char *const sys_errlist[]; printf("%s", sys_errlist[0]);
  ; return 0; }
  EOF
! if { (eval echo configure:6715: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_errlist="yes" 
  else
--- 6717,6736 ----
  
  
  echo $ac_n "checking if libc defines sys_errlist""... $ac_c" 1>&6
! echo "configure:6721: checking if libc defines sys_errlist" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_errlist'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6727 "configure"
  #include "confdefs.h"
  
  int main() {
   extern const char *const sys_errlist[]; printf("%s", sys_errlist[0]);
  ; return 0; }
  EOF
! if { (eval echo configure:6734: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_errlist="yes" 
  else
***************
*** 6735,6754 ****
  
  
  echo $ac_n "checking if libc defines sys_nerr""... $ac_c" 1>&6
! echo "configure:6739: checking if libc defines sys_nerr" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_nerr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6745 "configure"
  #include "confdefs.h"
  
  int main() {
   extern int sys_nerr; printf("%i", sys_nerr);
  ; return 0; }
  EOF
! if { (eval echo configure:6752: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_nerr="yes" 
  else
--- 6754,6773 ----
  
  
  echo $ac_n "checking if libc defines sys_nerr""... $ac_c" 1>&6
! echo "configure:6758: checking if libc defines sys_nerr" >&5
  if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_nerr'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    
  	cat > conftest.$ac_ext <<EOF
! #line 6764 "configure"
  #include "confdefs.h"
  
  int main() {
   extern int sys_nerr; printf("%i", sys_nerr);
  ; return 0; }
  EOF
! if { (eval echo configure:6771: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
     ac_cv_libc_defines_sys_nerr="yes" 
  else
***************
*** 6785,6791 ****
  		# Extract the first word of "rsh", so it can be a program name with args.
  set dummy rsh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:6789: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_rsh_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 6804,6810 ----
  		# Extract the first word of "rsh", so it can be a program name with args.
  set dummy rsh; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:6808: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_rsh_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 6835,6841 ****
  		# Extract the first word of "xauth", so it can be a program name with args.
  set dummy xauth; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:6839: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_xauth_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 6854,6860 ----
  		# Extract the first word of "xauth", so it can be a program name with args.
  set dummy xauth; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:6858: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_xauth_path'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 6906,6912 ****
  	
  ac_safe=`echo ""/dev/ptmx"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptmx"""... $ac_c" 1>&6
! echo "configure:6910: checking for "/dev/ptmx"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 6925,6931 ----
  	
  ac_safe=`echo ""/dev/ptmx"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptmx"""... $ac_c" 1>&6
! echo "configure:6929: checking for "/dev/ptmx"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 6939,6945 ****
  
  ac_safe=`echo ""/dev/ptc"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptc"""... $ac_c" 1>&6
! echo "configure:6943: checking for "/dev/ptc"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 6958,6964 ----
  
  ac_safe=`echo ""/dev/ptc"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/ptc"""... $ac_c" 1>&6
! echo "configure:6962: checking for "/dev/ptc"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 6990,6996 ****
  		
  ac_safe=`echo ""/dev/urandom"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/urandom"""... $ac_c" 1>&6
! echo "configure:6994: checking for "/dev/urandom"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7009,7015 ----
  		
  ac_safe=`echo ""/dev/urandom"" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for "/dev/urandom"""... $ac_c" 1>&6
! echo "configure:7013: checking for "/dev/urandom"" >&5
  if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7060,7066 ****
  		# Check for existing socket only if we don't have a random device already
  		if test -z "$RANDOM_POOL" ; then
  			echo $ac_n "checking for PRNGD/EGD socket""... $ac_c" 1>&6
! echo "configure:7064: checking for PRNGD/EGD socket" >&5
  			# Insert other locations here
  			for sock in /var/run/egd-pool /dev/egd-pool /etc/entropy; do
  				if test -r $sock && $TEST_MINUS_S_SH -c "test -S $sock -o -p $sock" ; then
--- 7079,7085 ----
  		# Check for existing socket only if we don't have a random device already
  		if test -z "$RANDOM_POOL" ; then
  			echo $ac_n "checking for PRNGD/EGD socket""... $ac_c" 1>&6
! echo "configure:7083: checking for PRNGD/EGD socket" >&5
  			# Insert other locations here
  			for sock in /var/run/egd-pool /dev/egd-pool /etc/entropy; do
  				if test -r $sock && $TEST_MINUS_S_SH -c "test -S $sock -o -p $sock" ; then
***************
*** 7093,7099 ****
  	# Extract the first word of "ls", so it can be a program name with args.
  set dummy ls; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7097: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7112,7118 ----
  	# Extract the first word of "ls", so it can be a program name with args.
  set dummy ls; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7116: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7134,7140 ****
  	# Extract the first word of "netstat", so it can be a program name with args.
  set dummy netstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7138: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_NETSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7153,7159 ----
  	# Extract the first word of "netstat", so it can be a program name with args.
  set dummy netstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7157: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_NETSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7175,7181 ****
  	# Extract the first word of "arp", so it can be a program name with args.
  set dummy arp; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7179: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_ARP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7194,7200 ----
  	# Extract the first word of "arp", so it can be a program name with args.
  set dummy arp; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7198: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_ARP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7216,7222 ****
  	# Extract the first word of "ifconfig", so it can be a program name with args.
  set dummy ifconfig; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7220: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IFCONFIG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7235,7241 ----
  	# Extract the first word of "ifconfig", so it can be a program name with args.
  set dummy ifconfig; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7239: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IFCONFIG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7257,7263 ****
  	# Extract the first word of "ps", so it can be a program name with args.
  set dummy ps; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7261: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_PS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7276,7282 ----
  	# Extract the first word of "ps", so it can be a program name with args.
  set dummy ps; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7280: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_PS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7298,7304 ****
  	# Extract the first word of "w", so it can be a program name with args.
  set dummy w; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7302: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_W'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7317,7323 ----
  	# Extract the first word of "w", so it can be a program name with args.
  set dummy w; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7321: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_W'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7339,7345 ****
  	# Extract the first word of "who", so it can be a program name with args.
  set dummy who; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7343: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_WHO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7358,7364 ----
  	# Extract the first word of "who", so it can be a program name with args.
  set dummy who; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7362: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_WHO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7380,7386 ****
  	# Extract the first word of "last", so it can be a program name with args.
  set dummy last; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7384: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LAST'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7399,7405 ----
  	# Extract the first word of "last", so it can be a program name with args.
  set dummy last; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7403: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LAST'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7421,7427 ****
  	# Extract the first word of "lastlog", so it can be a program name with args.
  set dummy lastlog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7425: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LASTLOG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7440,7446 ----
  	# Extract the first word of "lastlog", so it can be a program name with args.
  set dummy lastlog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7444: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_LASTLOG'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7462,7468 ****
  	# Extract the first word of "df", so it can be a program name with args.
  set dummy df; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7466: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_DF'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7481,7487 ----
  	# Extract the first word of "df", so it can be a program name with args.
  set dummy df; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7485: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_DF'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7503,7509 ****
  	# Extract the first word of "vmstat", so it can be a program name with args.
  set dummy vmstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7507: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_VMSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7522,7528 ----
  	# Extract the first word of "vmstat", so it can be a program name with args.
  set dummy vmstat; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7526: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_VMSTAT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7544,7550 ****
  	# Extract the first word of "uptime", so it can be a program name with args.
  set dummy uptime; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7548: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_UPTIME'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7563,7569 ----
  	# Extract the first word of "uptime", so it can be a program name with args.
  set dummy uptime; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7567: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_UPTIME'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7585,7591 ****
  	# Extract the first word of "ipcs", so it can be a program name with args.
  set dummy ipcs; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7589: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IPCS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7604,7610 ----
  	# Extract the first word of "ipcs", so it can be a program name with args.
  set dummy ipcs; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7608: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_IPCS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7626,7632 ****
  	# Extract the first word of "tail", so it can be a program name with args.
  set dummy tail; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7630: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_TAIL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 7645,7651 ----
  	# Extract the first word of "tail", so it can be a program name with args.
  set dummy tail; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:7649: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_path_PROG_TAIL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 7730,7738 ****
  
  if test -z "$disable_shadow" ; then
  	echo $ac_n "checking if the systems has expire shadow information""... $ac_c" 1>&6
! echo "configure:7734: checking if the systems has expire shadow information" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 7736 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 7749,7757 ----
  
  if test -z "$disable_shadow" ; then
  	echo $ac_n "checking if the systems has expire shadow information""... $ac_c" 1>&6
! echo "configure:7753: checking if the systems has expire shadow information" >&5
  	cat > conftest.$ac_ext <<EOF
! #line 7755 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 7743,7749 ****
   sp.sp_expire = sp.sp_lstchg = sp.sp_inact = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:7747: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     sp_expire_available=yes 
  else
--- 7762,7768 ----
   sp.sp_expire = sp.sp_lstchg = sp.sp_inact = 0; 
  ; return 0; }
  EOF
! if { (eval echo configure:7766: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     sp_expire_available=yes 
  else
***************
*** 7810,7816 ****
  	
  else
    cat > conftest.$ac_ext <<EOF
! #line 7814 "configure"
  #include "confdefs.h"
  
  /* find out what STDPATH is */
--- 7829,7835 ----
  	
  else
    cat > conftest.$ac_ext <<EOF
! #line 7833 "configure"
  #include "confdefs.h"
  
  /* find out what STDPATH is */
***************
*** 7842,7848 ****
  }
  		
  EOF
! if { (eval echo configure:7846: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     user_path=`cat conftest.stdpath` 
  else
--- 7861,7867 ----
  }
  		
  EOF
! if { (eval echo configure:7865: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
     user_path=`cat conftest.stdpath` 
  else
***************
*** 7899,7905 ****
  
  
  echo $ac_n "checking if we need to convert IPv4 in IPv6-mapped addresses""... $ac_c" 1>&6
! echo "configure:7903: checking if we need to convert IPv4 in IPv6-mapped addresses" >&5
  IPV4_IN6_HACK_MSG="no" 
  # Check whether --with-4in6 or --without-4in6 was given.
  if test "${with_4in6+set}" = set; then
--- 7918,7924 ----
  
  
  echo $ac_n "checking if we need to convert IPv4 in IPv6-mapped addresses""... $ac_c" 1>&6
! echo "configure:7922: checking if we need to convert IPv4 in IPv6-mapped addresses" >&5
  IPV4_IN6_HACK_MSG="no" 
  # Check whether --with-4in6 or --without-4in6 was given.
  if test "${with_4in6+set}" = set; then
***************
*** 7951,7957 ****
  
  
  echo $ac_n "checking whether to install ssh as suid root""... $ac_c" 1>&6
! echo "configure:7955: checking whether to install ssh as suid root" >&5
  # Check whether --enable-suid-ssh or --disable-suid-ssh was given.
  if test "${enable_suid_ssh+set}" = set; then
    enableval="$enable_suid_ssh"
--- 7970,7976 ----
  
  
  echo $ac_n "checking whether to install ssh as suid root""... $ac_c" 1>&6
! echo "configure:7974: checking whether to install ssh as suid root" >&5
  # Check whether --enable-suid-ssh or --disable-suid-ssh was given.
  if test "${enable_suid_ssh+set}" = set; then
    enableval="$enable_suid_ssh"
***************
*** 8100,8108 ****
  
  
  echo $ac_n "checking if your system defines LASTLOG_FILE""... $ac_c" 1>&6
! echo "configure:8104: checking if your system defines LASTLOG_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8106 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8119,8127 ----
  
  
  echo $ac_n "checking if your system defines LASTLOG_FILE""... $ac_c" 1>&6
! echo "configure:8123: checking if your system defines LASTLOG_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8125 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8118,8124 ****
   char *lastlog = LASTLOG_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8122: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8137,8143 ----
   char *lastlog = LASTLOG_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8141: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8128,8136 ****
    
  		echo "$ac_t""no" 1>&6
  		echo $ac_n "checking if your system defines _PATH_LASTLOG""... $ac_c" 1>&6
! echo "configure:8132: checking if your system defines _PATH_LASTLOG" >&5
  		cat > conftest.$ac_ext <<EOF
! #line 8134 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8147,8155 ----
    
  		echo "$ac_t""no" 1>&6
  		echo $ac_n "checking if your system defines _PATH_LASTLOG""... $ac_c" 1>&6
! echo "configure:8151: checking if your system defines _PATH_LASTLOG" >&5
  		cat > conftest.$ac_ext <<EOF
! #line 8153 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8146,8152 ****
   char *lastlog = _PATH_LASTLOG; 
  ; return 0; }
  EOF
! if { (eval echo configure:8150: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8165,8171 ----
   char *lastlog = _PATH_LASTLOG; 
  ; return 0; }
  EOF
! if { (eval echo configure:8169: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8185,8193 ****
  fi	
  
  echo $ac_n "checking if your system defines UTMP_FILE""... $ac_c" 1>&6
! echo "configure:8189: checking if your system defines UTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8191 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8204,8212 ----
  fi	
  
  echo $ac_n "checking if your system defines UTMP_FILE""... $ac_c" 1>&6
! echo "configure:8208: checking if your system defines UTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8210 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8200,8206 ****
   char *utmp = UTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8204: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8219,8225 ----
   char *utmp = UTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8223: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8235,8243 ****
  fi	
  
  echo $ac_n "checking if your system defines WTMP_FILE""... $ac_c" 1>&6
! echo "configure:8239: checking if your system defines WTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8241 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8254,8262 ----
  fi	
  
  echo $ac_n "checking if your system defines WTMP_FILE""... $ac_c" 1>&6
! echo "configure:8258: checking if your system defines WTMP_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8260 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8250,8256 ****
   char *wtmp = WTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8254: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8269,8275 ----
   char *wtmp = WTMP_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8273: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8286,8294 ****
  
  
  echo $ac_n "checking if your system defines UTMPX_FILE""... $ac_c" 1>&6
! echo "configure:8290: checking if your system defines UTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8292 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8305,8313 ----
  
  
  echo $ac_n "checking if your system defines UTMPX_FILE""... $ac_c" 1>&6
! echo "configure:8309: checking if your system defines UTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8311 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8304,8310 ****
   char *utmpx = UTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8308: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8323,8329 ----
   char *utmpx = UTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8327: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8331,8339 ****
  fi	
  
  echo $ac_n "checking if your system defines WTMPX_FILE""... $ac_c" 1>&6
! echo "configure:8335: checking if your system defines WTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8337 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 8350,8358 ----
  fi	
  
  echo $ac_n "checking if your system defines WTMPX_FILE""... $ac_c" 1>&6
! echo "configure:8354: checking if your system defines WTMPX_FILE" >&5
  cat > conftest.$ac_ext <<EOF
! #line 8356 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 8349,8355 ****
   char *wtmpx = WTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8353: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
--- 8368,8374 ----
   char *wtmpx = WTMPX_FILE; 
  ; return 0; }
  EOF
! if { (eval echo configure:8372: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
     echo "$ac_t""yes" 1>&6 
  else
***************
*** 8401,8412 ****
  fi
  
  echo $ac_n "checking for Cygwin environment""... $ac_c" 1>&6
! echo "configure:8405: checking for Cygwin environment" >&5
  if eval "test \"`echo '$''{'ac_cv_cygwin'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 8410 "configure"
  #include "confdefs.h"
  
  int main() {
--- 8420,8431 ----
  fi
  
  echo $ac_n "checking for Cygwin environment""... $ac_c" 1>&6
! echo "configure:8424: checking for Cygwin environment" >&5
  if eval "test \"`echo '$''{'ac_cv_cygwin'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 8429 "configure"
  #include "confdefs.h"
  
  int main() {
***************
*** 8417,8423 ****
  return __CYGWIN__;
  ; return 0; }
  EOF
! if { (eval echo configure:8421: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_cygwin=yes
  else
--- 8436,8442 ----
  return __CYGWIN__;
  ; return 0; }
  EOF
! if { (eval echo configure:8440: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_cygwin=yes
  else
***************
*** 8434,8452 ****
  CYGWIN=
  test "$ac_cv_cygwin" = yes && CYGWIN=yes
  echo $ac_n "checking for mingw32 environment""... $ac_c" 1>&6
! echo "configure:8438: checking for mingw32 environment" >&5
  if eval "test \"`echo '$''{'ac_cv_mingw32'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 8443 "configure"
  #include "confdefs.h"
  
  int main() {
  return __MINGW32__;
  ; return 0; }
  EOF
! if { (eval echo configure:8450: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_mingw32=yes
  else
--- 8453,8471 ----
  CYGWIN=
  test "$ac_cv_cygwin" = yes && CYGWIN=yes
  echo $ac_n "checking for mingw32 environment""... $ac_c" 1>&6
! echo "configure:8457: checking for mingw32 environment" >&5
  if eval "test \"`echo '$''{'ac_cv_mingw32'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 8462 "configure"
  #include "confdefs.h"
  
  int main() {
  return __MINGW32__;
  ; return 0; }
  EOF
! if { (eval echo configure:8469: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_mingw32=yes
  else
***************
*** 8465,8471 ****
  
  
  echo $ac_n "checking for executable suffix""... $ac_c" 1>&6
! echo "configure:8469: checking for executable suffix" >&5
  if eval "test \"`echo '$''{'ac_cv_exeext'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 8484,8490 ----
  
  
  echo $ac_n "checking for executable suffix""... $ac_c" 1>&6
! echo "configure:8488: checking for executable suffix" >&5
  if eval "test \"`echo '$''{'ac_cv_exeext'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 8475,8481 ****
    rm -f conftest*
    echo 'int main () { return 0; }' > conftest.$ac_ext
    ac_cv_exeext=
!   if { (eval echo configure:8479: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
      for file in conftest.*; do
        case $file in
        *.c | *.o | *.obj) ;;
--- 8494,8500 ----
    rm -f conftest*
    echo 'int main () { return 0; }' > conftest.$ac_ext
    ac_cv_exeext=
!   if { (eval echo configure:8498: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
      for file in conftest.*; do
        case $file in
        *.c | *.o | *.obj) ;;
***************
*** 8938,8943 ****
--- 8957,8963 ----
  echo "            KerberosIV support: $KRB4_MSG"
  echo "                   AFS support: $AFS_MSG"
  echo "                 S/KEY support: $SKEY_MSG"
+ echo "               SecurID support: $SECURID_MSG"
  echo "          TCP Wrappers support: $TCPW_MSG"
  echo "          MD5 password support: $MD5_MSG"
  echo "   IP address in \$DISPLAY hack: $DISPLAY_HACK_MSG"
diff -rNc openssh-2.5.2p1/configure.in openssh-2.5.2p1+SecurID/configure.in
*** openssh-2.5.2p1/configure.in	Sun Mar 18 18:09:06 2001
--- openssh-2.5.2p1+SecurID/configure.in	Mon Mar 19 23:08:34 2001
***************
*** 497,502 ****
--- 497,513 ----
  		fi
  	]
  )
+ SECURID_MSG="no"
+ AC_ARG_WITH(securid,
+ 	[  --with-securid          Enable SecurID support],
+ 	[
+ 		if test "x$withval" != "xno" ; then
+ 			AC_DEFINE(SECURID)
+ 			LIBS="$LIBS sdiclient.a"
+ 			SECURID_MSG="yes" 
+ 		fi
+ 	]
+ )
  
  # Check whether user wants TCP wrappers support
  TCPW_MSG="no" 
***************
*** 1913,1918 ****
--- 1924,1930 ----
  echo "            KerberosIV support: $KRB4_MSG"
  echo "                   AFS support: $AFS_MSG"
  echo "                 S/KEY support: $SKEY_MSG"
+ echo "               SecurID support: $SECURID_MSG"
  echo "          TCP Wrappers support: $TCPW_MSG"
  echo "          MD5 password support: $MD5_MSG"
  echo "   IP address in \$DISPLAY hack: $DISPLAY_HACK_MSG"
diff -rNc openssh-2.5.2p1/readconf.c openssh-2.5.2p1+SecurID/readconf.c
*** openssh-2.5.2p1/readconf.c	Mon Mar 19 17:15:35 2001
--- openssh-2.5.2p1+SecurID/readconf.c	Mon Mar 19 23:08:34 2001
***************
*** 95,100 ****
--- 95,102 ----
  	oBadOption,
  	oForwardAgent, oForwardX11, oGatewayPorts, oRhostsAuthentication,
  	oPasswordAuthentication, oRSAAuthentication, oFallBackToRsh, oUseRsh,
+ 	oSecurIDAuthentication, oSecurIDFallBack,
+ 	oAllowNonSecurID, oSecurIDUsersFile, oSecurIDIgnoreShell,
  	oChallengeResponseAuthentication, oXAuthLocation,
  #ifdef KRB4
  	oKerberosAuthentication,
***************
*** 125,130 ****
--- 127,137 ----
  	{ "gatewayports", oGatewayPorts },
  	{ "useprivilegedport", oUsePrivilegedPort },
  	{ "rhostsauthentication", oRhostsAuthentication },
+ 	{ "securidauthentication", oSecurIDAuthentication },
+ 	{ "securidfallback", oSecurIDFallBack },
+ 	{ "allownonsecurid", oAllowNonSecurID },
+ 	{ "securidusersfile", oSecurIDUsersFile },
+ 	{ "securidignoreshell", oSecurIDIgnoreShell },
  	{ "passwordauthentication", oPasswordAuthentication },
  	{ "kbdinteractiveauthentication", oKbdInteractiveAuthentication },
  	{ "kbdinteractivedevices", oKbdInteractiveDevices },
***************
*** 319,324 ****
--- 326,346 ----
  	case oRSAAuthentication:
  		intptr = &options->rsa_authentication;
  		goto parse_flag;
+ 	case oSecurIDAuthentication:
+ 		intptr = &options->securid_authentication;
+ 		goto parse_flag;
+ 	case oSecurIDFallBack:
+ 		intptr = &options->securid_fallback;
+ 		goto parse_flag;
+ 	case oAllowNonSecurID:
+ 		intptr = &options->allow_nonsecurid;
+ 		goto parse_flag;
+ 	case oSecurIDUsersFile:
+ 		charptr=&options->securid_usersfile;
+ 		goto parse_string;
+ 	case oSecurIDIgnoreShell:
+ 		intptr = &options->securid_ignore_shell;
+ 		goto parse_flag;
  
  	case oRhostsRSAAuthentication:
  		intptr = &options->rhosts_rsa_authentication;
***************
*** 672,677 ****
--- 694,704 ----
  /*
   * Initializes options to special values that indicate that they have not yet
   * been set.  Read_config_file will only set options with this value. Options
+ 	options->securid_authentication = -1;
+ 	options->securid_fallback = -1;
+ 	options->allow_nonsecurid = -1;
+ 	options->securid_usersfile = NULL;
+ 	options->securid_ignore_shell = -1;
   * are processed in the following order: command line, user config file,
   * system config file.  Last, fill_default_options is called.
   */
***************
*** 741,746 ****
--- 768,781 ----
  {
  	int len;
  
+ 	if (options->securid_authentication == -1)
+ 		options->securid_authentication = 1;
+ 	if (options->securid_fallback == -1)
+ 		options->securid_fallback = 0;
+ 	if (options->allow_nonsecurid == -1)
+ 		options->allow_nonsecurid = 1;
+ 	if (options->securid_ignore_shell == -1)
+ 		options->securid_ignore_shell = 0;
  	if (options->forward_agent == -1)
  		options->forward_agent = 0;
  	if (options->forward_x11 == -1)
diff -rNc openssh-2.5.2p1/readconf.h openssh-2.5.2p1+SecurID/readconf.h
*** openssh-2.5.2p1/readconf.h	Sat Mar 10 20:48:58 2001
--- openssh-2.5.2p1+SecurID/readconf.h	Mon Mar 19 23:08:34 2001
***************
*** 39,44 ****
--- 39,49 ----
  	int     rsa_authentication;	/* Try RSA authentication. */
  	int     pubkey_authentication;	/* Try ssh2 pubkey authentication. */
  	int     challenge_reponse_authentication;
+ 	int     securid_authentication;	/* Try SecurID authentication. */
+ 	int     securid_fallback;	/* Allow fall back to normal password */
+ 	int     allow_nonsecurid;	/* Allow non securid users logins */
+ 	char   *securid_usersfile;	/* SecurID auth users in this file */
+ 	int	securid_ignore_shell;   /* Ignore ACE propsed shell? */
  					/* Try S/Key or TIS, authentication. */
  #ifdef KRB4
  	int     kerberos_authentication;	/* Try Kerberos
diff -rNc openssh-2.5.2p1/servconf.c openssh-2.5.2p1+SecurID/servconf.c
*** openssh-2.5.2p1/servconf.c	Mon Mar  5 20:02:19 2001
--- openssh-2.5.2p1+SecurID/servconf.c	Mon Mar 19 23:08:34 2001
***************
*** 65,70 ****
--- 65,77 ----
  	options->log_level = (LogLevel) - 1;
  	options->rhosts_authentication = -1;
  	options->rhosts_rsa_authentication = -1;
+ #ifdef SECURID
+ 	options->securid_authentication = -1;
+ 	options->securid_fallback = -1;
+ 	options->allow_nonsecurid = -1;
+ 	options->securid_usersfile = NULL;
+ 	options->securid_ignore_shell = -1;
+ #endif
  	options->rsa_authentication = -1;
  	options->pubkey_authentication = -1;
  #ifdef KRB4
***************
*** 156,161 ****
--- 163,178 ----
  		options->rsa_authentication = 1;
  	if (options->pubkey_authentication == -1)
  		options->pubkey_authentication = 1;
+ #ifdef SECURID
+ 	if (options->securid_authentication == -1)
+ 		options->securid_authentication = 1;
+ 	if (options->securid_fallback == -1)
+ 		options->securid_fallback = 0;
+ 	if (options->allow_nonsecurid == -1)
+ 		options->securid_fallback = 1;
+ 	if (options->securid_ignore_shell == -1)
+ 		options->securid_ignore_shell = 0;
+ #endif
  #ifdef KRB4
  	if (options->kerberos_authentication == -1)
  		options->kerberos_authentication = (access(KEYFILE, R_OK) == 0);
***************
*** 200,205 ****
--- 217,226 ----
  	sPort, sHostKeyFile, sServerKeyBits, sLoginGraceTime, sKeyRegenerationTime,
  	sPermitRootLogin, sLogFacility, sLogLevel,
  	sRhostsAuthentication, sRhostsRSAAuthentication, sRSAAuthentication,
+ #ifdef SECURID
+ 	sSecurIDAuthentication, sSecurIDFallBack, sAllowNonSecurID,
+ 	sSecurIDUsersFile, sSecurIDIgnoreShell,
+ #endif
  #ifdef KRB4
  	sKerberosAuthentication, sKerberosOrLocalPasswd, sKerberosTicketCleanup,
  #endif
***************
*** 231,236 ****
--- 252,264 ----
  	{ "keyregenerationinterval", sKeyRegenerationTime },
  	{ "permitrootlogin", sPermitRootLogin },
  	{ "syslogfacility", sLogFacility },
+ #ifdef SECURID
+ 	{ "securidauthentication", sSecurIDAuthentication },
+ 	{ "securidfallback", sSecurIDFallBack },
+ 	{ "allownonsecurid", sAllowNonSecurID },
+ 	{ "securidusersfile", sSecurIDUsersFile },
+ 	{ "securidignoreshell", sSecurIDIgnoreShell },
+ #endif
  	{ "loglevel", sLogLevel },
  	{ "rhostsauthentication", sRhostsAuthentication },
  	{ "rhostsrsaauthentication", sRhostsRSAAuthentication },
***************
*** 518,523 ****
--- 546,568 ----
  
  		case sKerberosTicketCleanup:
  			intptr = &options->kerberos_ticket_cleanup;
+ 			goto parse_flag;
+ #endif
+ #ifdef SECURID
+ 		case sSecurIDAuthentication:
+ 			intptr = &options->securid_authentication;
+ 			goto parse_flag;
+ 		case sSecurIDFallBack:
+ 			intptr = &options->securid_fallback;
+ 			goto parse_flag;
+ 		case sAllowNonSecurID:
+ 			intptr = &options->allow_nonsecurid;
+ 			goto parse_flag;
+ 		case sSecurIDUsersFile:
+ 			charptr = &options->securid_usersfile;
+ 			goto parse_filename;
+ 		case sSecurIDIgnoreShell:
+ 			intptr = &options->securid_ignore_shell;
  			goto parse_flag;
  #endif
  
diff -rNc openssh-2.5.2p1/servconf.h openssh-2.5.2p1+SecurID/servconf.h
*** openssh-2.5.2p1/servconf.h	Wed Feb 14 22:08:05 2001
--- openssh-2.5.2p1+SecurID/servconf.h	Mon Mar 19 23:08:34 2001
***************
*** 81,86 ****
--- 81,99 ----
  	int     kerberos_ticket_cleanup;	/* If true, destroy ticket
  						 * file on logout. */
  #endif
+ #ifdef SECURID
+ 	int     securid_authentication; /* If set, use securid */
+ 	int	securid_fallback;	/* If set, allow normal passwords
+ 					   is master/slave are not accessible */
+ 	int	allow_nonsecurid;	/* If set, allow nonsecurid users
+ 					   logins via other means (e.g. PAM) */
+ 	char   *securid_usersfile;	/* If set, only users in the file
+ 					   will authenticate via SecurID
+ 					   The shell need not be .../sdshell */
+ 	int	securid_ignore_shell;	/* If true, use the shell in /etc/passwd
+ 					   instead of the shell proposed by
+ 					   the ACE server. */
+ #endif
  #ifdef AFS
  	int     kerberos_tgt_passing;	/* If true, permit Kerberos tgt
  					 * passing. */
diff -rNc openssh-2.5.2p1/sshd.0 openssh-2.5.2p1+SecurID/sshd.0
*** openssh-2.5.2p1/sshd.0	Mon Mar 19 17:33:06 2001
--- openssh-2.5.2p1+SecurID/sshd.0	Mon Mar 19 23:08:34 2001
***************
*** 186,191 ****
--- 186,198 ----
               Only group names are valid; a numerical group ID isn't recog-
               nized.  By default login is allowed regardless of the group list.
  
+      AllowNonSecurID
+              This will allow users that do not meet the SecurID login
+              activation requirements (not in the SecurIDUsersFile or do not
+              have a shell ending with sdshell, if the SecurIDUsersFile option
+              is used or is omitted, respectively) to still log in using another
+              authentication method (e.g. PAM or passwd.)
+ 
       AllowTcpForwarding
               Specifies whether TCP forwarding is permitted.  The default is
               ``yes''. Note that disabling TCP forwarding does not improve se-
***************
*** 417,422 ****
--- 424,465 ----
               Specifies whether pure RSA authentication is allowed.  The de-
               fault is ``yes''. Note that this option applies to protocol ver-
               sion 1 only.
+ 
+      SecurIDAuthentication
+              Specifies whether SecurID authentication is allowed.  The default
+              is yes.  SecurID authentication si enabled in both PAM and
+              PasswordAuthentication modes.
+ 
+              NOTES:  After you enter you SecurID passcode, SecurID may choose
+              to ask for the next code on your token.  To handle this event
+              without modifying the SSH client, the actual information that
+              sshd is asing for is passed in the debugging messages.  If your
+              login attempts fail, try sshing with -v and you can see if it is
+              asking for your passcode or for the next token.
+ 
+      SecurIDFallBack
+              Specifies whether SecurID user logins will fallback to their
+              to an underlying form (PAM/PaswordAuthentication) if the SecurID
+              server is unavailable or the machine is not configured correctly.
+ 
+      SecurIDIgnoreShell
+              Specifies whether sshd will respect the ACE server's propsed user
+              shell.  The default is ``no''.  If yes, then the shell in
+              /etc/passwd will be used instead, eliminating the need for a
+              /path/to/ace/prog/sdshell style shell.  This option only makes
+              sense when using the SecurIDUsersFile option.
+ 
+      SecurIDUsersFile
+              The argument a filename that contains usernames that are to be
+              authenticated via SecurID.  By default this option is unset and
+              users will only be authenticated if their shell ends with sdshell.
+              If the SecurIDIgnoreShell option is set to ``yes'', then the
+              shell in /etc/passwd will be used in place of the shell proposed
+              by the ACE server -- allowing a user to have different shells on
+              different machines.  In conjunction wth SecurIDIgnoreShell, this
+              can force sshd to use SecurID while other system authentications
+              use alternative methods without the complication of having sdshell
+              as the user's default shell.
  
       ServerKeyBits
               Defines the number of bits in the server key.  The minimum value
diff -rNc openssh-2.5.2p1/sshd.8 openssh-2.5.2p1+SecurID/sshd.8
*** openssh-2.5.2p1/sshd.8	Mon Mar 19 07:15:46 2001
--- openssh-2.5.2p1+SecurID/sshd.8	Mon Mar 19 23:08:34 2001
***************
*** 311,316 ****
--- 311,323 ----
  Only group names are valid; a numerical group ID isn't recognized.
  By default login is allowed regardless of the group list.
  .Pp
+ .It Cm AllowNonSecurID
+ This will allow users that do not meet the SecurID login 
+ activation requirements (not in the SecurIDUsersFile or do not 
+ have a shell ending with sdshell, if the SecurIDUsersFile option
+ is used or is omitted, respectively) to still log in using another
+ authentication method (e.g. PAM or passwd.)
+ .Pp
  .It Cm AllowTcpForwarding
  Specifies whether TCP forwarding is permitted.
  The default is
***************
*** 648,653 ****
--- 655,692 ----
  The default is
  .Dq yes .
  Note that this option applies to protocol version 1 only.
+ .It Cm SecurIDAuthentication
+ Specifies whether SecurID authentication is allowed.  The default
+ is yes.  SecurID authentication si enabled in both PAM and
+ PasswordAuthentication modes.
+ .Dq yes .
+ Note that after you enter you SecurID passcode, SecurID may choose
+ to ask for the next code on your token.  To handle this event
+ without modifying the SSH client, the actual information that
+ sshd is asing for is passed in the debugging messages.  If your
+ login attempts fail, try sshing with -v and you can see if it is
+ asking for your passcode or for the next token.
+ .It Cm SecurIDFallBack
+ Specifies whether SecurID user logins will fallback to their
+ to an underlying form (PAM/PaswordAuthentication) is the SecurID
+ server is unavailable or the machine is not configured correctly.
+ .It Cm SecurIDIgnoreShell
+ Specifies whether sshd will respect the ACE server's propsed user
+ shell.  The default is ``no''.  If yes, then the shell in 
+ /etc/passwd will be used instead, eliminating the need for a
+ /path/to/ace/prog/sdshell style shell.  This option only makes
+ sense when using the SecurIDUsersFile option.
+ .It Cm SecurIDUsersFile
+ The argument a filename that contains usernames that are to be
+ authenticated via SecurID.  By default this option is unset and
+ users will only be authenticated if their shell ends with sdshell.
+ If the SecurIDIgnoreShell option is set to ``yes'', then the 
+ shell in /etc/passwd will be used in place of the shell proposed
+ by the ACE server -- allowing a user to have different shells on
+ different machines.  In conjunction wth SecurIDIgnoreShell, this
+ can force sshd to use SecurID while other system authentications
+ use alternative methods without the complication of having sdshell
+ as the user's default shell.
  .It Cm ServerKeyBits
  Defines the number of bits in the server key.
  The minimum value is 512, and the default is 768.
